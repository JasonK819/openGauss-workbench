{"version":3,"file":"js/834.017fb98a.js","mappings":"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","sources":["webpack://web-ui/./src/api/detail.js","webpack://web-ui/./src/api/list.js","webpack://web-ui/./node_modules/vue-loader/dist/exportHelper.js","webpack://web-ui/./src/views/detail/components/SubTaskDetail.vue","webpack://web-ui/./src/views/detail/components/SubTaskDetail.vue?fb5b","webpack://web-ui/./src/views/detail/index.vue","webpack://web-ui/./src/views/detail/index.vue?a31d"],"sourcesContent":["import axios from 'axios'\n\nexport function taskDetail (id) {\n  return axios.get(`/plugins/data-migration/migration/${id}`)\n}\n\nexport function refreshStatus (id) {\n  return axios.get(`/plugins/data-migration/migration/refreshStatus/${id}`)\n}\n\nexport function subTaskList (id, query) {\n  return axios.get(`/plugins/data-migration/migration/subTasks/${id}`, { params: query })\n}\n\nexport function subTaskFinish (id) {\n  return axios.post(`/plugins/data-migration/migration/subTask/finish/${id}`)\n}\n\nexport function subTaskStartReverse (id) {\n  return axios.post(`/plugins/data-migration/migration/subTask/start/reverse/${id}`)\n}\n\nexport function subTaskStopIncremental (id) {\n  return axios.post(`/plugins/data-migration/migration/subTask/stop/incremental/${id}`)\n}\n\nexport function subTaskDetail (id) {\n  return axios.get(`/plugins/data-migration/migration/subTaskInfo/${id}`)\n}\n\nexport function downloadLog (id, query) {\n  return axios.get(`/plugins/data-migration/migration/subTask/log/download/${id}`, { params: query })\n}\n\nexport function taskEditInfo (id) {\n  return axios.get(`/plugins/data-migration/migration/editInfo/${id}`)\n}\n","import axios from 'axios'\n\nexport function list (query) {\n  return axios.get('/plugins/data-migration/migration/list', { params: query })\n}\n\nexport function start (id) {\n  return axios.post(`/plugins/data-migration/migration/start/${id}`)\n}\n\nexport function stop (id) {\n  return axios.post(`/plugins/data-migration/migration/finish/${id}`)\n}\n\nexport function deleteTask (ids) {\n  return axios.delete(`/plugins/data-migration/migration/${ids}`)\n}\n\nexport function userList () {\n  return axios.get('/plugins/data-migration/migration/list/createUsers')\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","<template>\n  <a-drawer\n    v-model:visible=\"visible\"\n    width=\"50%\"\n    :footer=\"false\"\n  >\n    <template #title>\n      <div class=\"title-con\">\n        <div class=\"tab-con\">\n          <span class=\"tab-item\" :class=\"tabActive === 1 && 'tab-item-active'\" @click=\"tabChange(1)\">子任务详情（ID：{{ props.subTaskId }}，{{ subTaskInfo.migrationModelId === 1 ? '离线模式' : '在线模式' }}）</span>\n          <span class=\"tab-item\" :class=\"tabActive === 2 && 'tab-item-active'\" @click=\"tabChange(2)\">日志</span>\n        </div>\n        <span class=\"task-status\">\n          状态：\n          <b>{{ execSubStatusMap(subTaskInfo.execStatus) }}</b>\n        </span>\n      </div>\n    </template>\n    <div class=\"task-detail-con\">\n      <div class=\"task-desc-con\">\n        <a-descriptions :data=\"descData\" layout=\"inline-horizontal\" :column=\"2\" table-layout=\"fixed\" bordered />\n      </div>\n      <div v-if=\"tabActive === 1 && subTaskInfo.migrationModelId === 1\" class=\"progress-con\">\n        <span class=\"progress-info\">进度</span>\n        <a-progress size=\"large\" :percent=\"subTaskInfo.execStatus === 100 ? 1 : (subTaskInfo.migrationProcess || 0)\" />\n      </div>\n      <div v-if=\"tabActive === 1 && subTaskInfo.migrationModelId === 1\" class=\"table-con\">\n        <a-table :data=\"tableData\" :bordered=\"false\" stripe :pagination=\"false\" :default-expanded-keys=\"['table']\">\n          <template #columns>\n            <a-table-column :title=\"`源库：${subTaskInfo.sourceDb}`\" data-index=\"name\"></a-table-column>\n            <a-table-column :title=\"`目的库：${subTaskInfo.targetDb}`\" data-index=\"name\"></a-table-column>\n            <a-table-column data-index=\"status\" align=\"center\">\n              <template #title>\n                <span>迁移状态</span>\n                <a-popover content-class=\"pop-con\">\n                  <span style=\"margin-left: 5px;cursor: pointer;\"><icon-filter /></span>\n                  <template #content>\n                    <div class=\"filter-con\">\n                      <span>仅显示错误数据：</span>\n                      <a-switch v-model=\"onlyError\" size=\"small\" @change=\"filterTableData(1)\" />\n                    </div>\n                  </template>\n                </a-popover>\n              </template>\n              <template #cell=\"{ record }\">\n                <a-progress v-if=\"record.status === 1 || record.status === 2\" :percent=\"record.percent\" />\n                <icon-check-circle-fill v-if=\"record.status === 3 || record.status === 4 || record.status === 5\" size=\"16\" style=\"color: #00B429;\" />\n                <a-popover title=\"错误详情\" position=\"tr\">\n                  <icon-close-circle-fill v-if=\"record.status === 6\" size=\"16\" style=\"color: #FF7D01;\" />\n                  <template #content>\n                    <p>{{ record.msg }}</p>\n                  </template>\n                </a-popover>\n              </template>\n            </a-table-column>\n            <a-table-column data-index=\"status\" align=\"center\">\n              <template #title>\n                <span>迁移校验</span>\n                <a-popover content-class=\"pop-con\">\n                  <span style=\"margin-left: 5px;cursor: pointer;\"><icon-filter /></span>\n                  <template #content>\n                    <div class=\"filter-con\">\n                      <span>仅显示错误数据：</span>\n                      <a-switch v-model=\"onlyCheckError\" size=\"small\" @change=\"filterTableData(2)\" />\n                    </div>\n                  </template>\n                </a-popover>\n              </template>\n              <template #cell=\"{ record }\">\n                <a-progress v-if=\"record.status === 4\" :percent=\"record.percent\" />\n                <icon-check-circle-fill v-if=\"record.status === 5\" size=\"16\" style=\"color: #00B429;\" />\n                <a-popover title=\"错误详情\" position=\"tr\">\n                  <icon-close-circle-fill v-if=\"record.status === 6\" size=\"16\" style=\"color: #FF7D01;\" />\n                  <template #content>\n                    <p>{{ record.msg }}</p>\n                  </template>\n                </a-popover>\n              </template>\n            </a-table-column>\n          </template>\n        </a-table>\n      </div>\n      <div v-if=\"tabActive === 1 && subTaskInfo.migrationModelId === 2\" class=\"record-con\">\n        <div class=\"record-title\">在线迁移过程记录</div>\n        <div class=\"record-list\">\n          <a-steps :default-current=\"Object.keys(statusRecords).length + 1\" type=\"dot\" direction=\"vertical\">\n            <a-step v-for=\"(value, key) in statusRecords\" :key=\"key\">\n              <div class=\"record-item-hd\">\n                <span class=\"hd-info\">{{ recordsMap(key) }}</span>\n                <span class=\"hd-time\">by {{ taskInfo.createUser }}, {{ subTaskInfo.execTime }}</span>\n              </div>\n              <a-card hoverable>\n                <div class=\"record-item-con\">\n                  <div v-for=\"item in value\" :key=\"item.id\" class=\"record-item\">\n                    <div class=\"record-item-info\">\n                      <span class=\"info\">\n                        {{ execSubStatusMap(item.statusId) }}\n                        <i v-if=\"item.statusId === 2\" @click=\"globalVisible = !globalVisible\">{{ globalVisible ? '收起' : '查看' }}</i>\n                        <i v-if=\"item.statusId === 8\" @click=\"increaseVisible = !increaseVisible\">{{ increaseVisible ? '收起' : '查看' }}</i>\n                      </span>\n                      <span class=\"time\">{{ item.createTime }}</span>\n                    </div>\n                    <div v-if=\"item.statusId === 2 && globalVisible\" class=\"table-con\">\n                      <a-table :data=\"tableData\" :bordered=\"false\" stripe :pagination=\"false\" :default-expanded-keys=\"['table']\">\n                        <template #columns>\n                          <a-table-column :title=\"`源库：${subTaskInfo.sourceDb}`\" data-index=\"name\"></a-table-column>\n                          <a-table-column :title=\"`目的库：${subTaskInfo.targetDb}`\" data-index=\"name\"></a-table-column>\n                          <a-table-column data-index=\"status\" align=\"center\">\n                            <template #title>\n                              <span>迁移状态</span>\n                              <a-popover content-class=\"pop-con\">\n                                <span style=\"margin-left: 5px;cursor: pointer;\"><icon-filter /></span>\n                                <template #content>\n                                  <div class=\"filter-con\">\n                                    <span>仅显示错误数据：</span>\n                                    <a-switch v-model=\"onlyError\" size=\"small\" @change=\"filterTableData(1)\" />\n                                  </div>\n                                </template>\n                              </a-popover>\n                            </template>\n                            <template #cell=\"{ record }\">\n                              <a-progress v-if=\"record.status === 1 || record.status === 2\" :percent=\"record.percent\" />\n                              <icon-check-circle-fill v-if=\"record.status === 3 || record.status === 4 || record.status === 5\" size=\"16\" style=\"color: #00B429;\" />\n                              <a-popover title=\"错误详情\" position=\"tr\">\n                                <icon-close-circle-fill v-if=\"record.status === 6\" size=\"16\" style=\"color: #FF7D01;\" />\n                                <template #content>\n                                  <p>{{ record.msg }}</p>\n                                </template>\n                              </a-popover>\n                            </template>\n                          </a-table-column>\n                          <a-table-column data-index=\"status\" align=\"center\">\n                            <template #title>\n                              <span>迁移校验</span>\n                              <a-popover content-class=\"pop-con\">\n                                <span style=\"margin-left: 5px;cursor: pointer;\"><icon-filter /></span>\n                                <template #content>\n                                  <div class=\"filter-con\">\n                                    <span>仅显示错误数据：</span>\n                                    <a-switch v-model=\"onlyCheckError\" size=\"small\" @change=\"filterTableData(2)\" />\n                                  </div>\n                                </template>\n                              </a-popover>\n                            </template>\n                            <template #cell=\"{ record }\">\n                              <a-progress v-if=\"record.status === 4\" :percent=\"record.percent\" />\n                              <icon-check-circle-fill v-if=\"record.status === 5\" size=\"16\" style=\"color: #00B429;\" />\n                              <a-popover title=\"错误详情\" position=\"tr\">\n                                <icon-close-circle-fill v-if=\"record.status === 6\" size=\"16\" style=\"color: #FF7D01;\" />\n                                <template #content>\n                                  <p>{{ record.msg }}</p>\n                                </template>\n                              </a-popover>\n                            </template>\n                          </a-table-column>\n                        </template>\n                      </a-table>\n                    </div>\n                    <div v-if=\"item.statusId === 8 && increaseVisible\" class=\"list-con\">\n                      <div class=\"list-item-con\">\n                        <div class=\"list-title\">\n                          <div class=\"list-title-l\">\n                            <icon-info-circle size=\"15\" />\n                            <span>累计增量迁移对象数：{{ increaseData.count }} 条</span>\n                          </div>\n                          <div class=\"list-title-r\">\n                            <span>{{ increaseData.createTime }}</span>\n                          </div>\n                        </div>\n                        <div class=\"list-info-em\">\n                          <span>增量抽取速度：{{ increaseData.sourceSpeed || 0 }} 条/s</span>\n                        </div>\n                        <div class=\"list-info-em\">\n                          <span>增量写入速度：{{ increaseData.sinkspeed || 0 }} 条/s</span>\n                        </div>\n                        <div class=\"list-info\">\n                          <span>剩余待写入数据：{{ increaseData.rest }} 条</span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </a-card>\n            </a-step>\n          </a-steps>\n        </div>\n      </div>\n      <div v-if=\"tabActive === 2\" class=\"log-con\">\n        <a-list>\n          <a-list-item v-for=\"item in logData\" :key=\"item.url\">\n            <div class=\"log-detail-info\">{{ item.name }}</div>\n            <template #actions>\n              <a-button type=\"text\" size=\"mini\" @click=\"handleDownloadLog(item.url)\">\n                <template #icon>\n                  <icon-download />\n                </template>\n                下载日志\n              </a-button>\n            </template>\n          </a-list-item>\n        </a-list>\n      </div>\n    </div>\n  </a-drawer>\n</template>\n\n<script setup>\nimport { ref, watch, onMounted } from 'vue'\nimport { subTaskDetail, downloadLog } from '@/api/detail'\nimport dayjs from 'dayjs'\n\nconst props = defineProps({\n  open: Boolean,\n  taskInfo: Object,\n  subTaskId: [String, Number],\n  tab: [String, Number]\n})\n\nconst emits = defineEmits(['update:open'])\n\nconst visible = ref(false)\nconst tabActive = ref(1)\nconst globalVisible = ref(false)\nconst increaseVisible = ref(false)\nconst subTaskInfo = ref({})\nconst descData = ref([])\nconst increaseData = ref({})\n\n// sub task status map\nconst execSubStatusMap = (status) => {\n  const maps = {\n    0: '未启动',\n    1: '全量迁移开始',\n    2: '全量迁移进行中',\n    3: '全量迁移完成',\n    4: '全量校验开始',\n    5: '全量校验中',\n    6: '全量检验完成',\n    7: '增量迁移开始',\n    8: '增量迁移进行中',\n    9: '增量迁移已停止',\n    10: '反向迁移开始',\n    11: '反向迁移进行中',\n    12: '反向迁移已停止',\n    100: '迁移完成',\n    500: '迁移失败',\n    1000: '等待资源中'\n  }\n  return maps[status]\n}\n\n// record map\nconst recordsMap = (key) => {\n  const maps = {\n    1: '启动迁移',\n    2: '停止增量',\n    3: '启动反向',\n    100: '结束迁移'\n  }\n  return maps[key]\n}\n\nwatch(visible, (v) => {\n  emits('update:open', v)\n})\n\nwatch(() => props.open, (v) => {\n  if (v) {\n    tabActive.value = props.tab\n    globalVisible.value = false\n    increaseVisible.value = false\n    increaseData.value = {}\n    tableData.value = []\n    logData.value = []\n    onlyError.value = false\n    onlyCheckError.value = false\n    getSubTaskDetail()\n  }\n  visible.value = v\n})\n\nconst tabChange = tab => {\n  tabActive.value = tab\n}\n\nconst tableData = ref([])\nconst originData = ref([])\nconst statusRecords = ref({})\nconst logData = ref([])\nconst onlyError = ref(false)\nconst onlyCheckError = ref(false)\n\nconst filterTableData = (type) => {\n  const oData = JSON.parse(JSON.stringify(originData.value)) || []\n  if (type === 1 && onlyError.value) {\n    tableData.value = oData.map(item => {\n      return {\n        ...item,\n        children: item.children.filter(child => child.status === 6)\n      }\n    })\n  } else if (type === 2 && onlyCheckError.value) {\n    tableData.value = oData.map(item => {\n      return {\n        ...item,\n        children: item.children.filter(child => child.status === 6)\n      }\n    })\n  } else {\n    onlyError.value = false\n    onlyCheckError.value = false\n    tableData.value = oData\n  }\n}\n\nconst handleDownloadLog = (url) => {\n  downloadLog(subTaskInfo.value.id, { filePath: url }).then(res => {\n    console.log(res)\n    if (res) {\n      const blob = new Blob([res], {\n        type: 'text/plain'\n      })\n      const a = document.createElement('a')\n      const URL = window.URL || window.webkitURL\n      const herf = URL.createObjectURL(blob)\n      a.href = herf\n      a.download = url.substring(url.lastIndexOf('/') + 1)\n      document.body.appendChild(a)\n      a.click()\n      document.body.removeChild(a)\n      window.URL.revokeObjectURL(herf)\n    }\n  })\n}\n\nconst getSubTaskDetail = () => {\n  subTaskDetail(props.subTaskId).then(res => {\n    subTaskInfo.value = res.data.task\n    const seconds = subTaskInfo.value.finishTime ? dayjs(subTaskInfo.value.finishTime).diff(dayjs(subTaskInfo.value.execTime), 'seconds') : dayjs().diff(dayjs(subTaskInfo.value.execTime), 'seconds')\n    const hour = parseInt(seconds / 3600)\n    const minute = parseInt((seconds - hour * 3600) / 60)\n    descData.value = [\n      {\n        label: '属于任务：',\n        value: props.taskInfo.taskName\n      },\n      {\n        label: '创建时间：',\n        value: subTaskInfo.value.createTime\n      },\n      {\n        label: '源库名：',\n        value: subTaskInfo.value.sourceDb\n      },\n      {\n        label: '目的库名：',\n        value: subTaskInfo.value.targetDb\n      },\n      {\n        label: '执行开始时间：',\n        value: subTaskInfo.value.execTime\n      },\n      {\n        label: '已执行：',\n        value: `${hour ? hour + '小时' : ''} ${minute ? minute + '分钟' : ''}`\n      }\n    ]\n\n    // 全量表格数据\n    const fullProcessDetail = res.data.fullProcess?.execResultDetail ? JSON.parse(res.data.fullProcess?.execResultDetail) : null\n    if (fullProcessDetail) {\n      const dealData = ['table', 'view', 'function', 'trigger', 'procedure'].map(item => {\n        const nameMap = {\n          'table': '表',\n          'view': '视图',\n          'function': '函数',\n          'trigger': '触发器',\n          'procedure': '存储过程'\n        }\n\n        return {\n          key: item,\n          name: nameMap[item],\n          status: '',\n          msg: '',\n          children: fullProcessDetail[item].map(child => {\n            return {\n              key: Math.random(),\n              ...child\n            }\n          })\n        }\n      })\n      originData.value = JSON.parse(JSON.stringify(dealData))\n      tableData.value = dealData\n    }\n\n    // 过程记录\n    if (subTaskInfo.value.migrationModelId === 2) {\n      statusRecords.value = res.data.statusRecords\n    }\n\n    // 增量迁移详情\n    const increaseProcessDetail = res.data.incrementalProcess?.execResultDetail ? JSON.parse(res.data.incrementalProcess?.execResultDetail) : null\n    if (increaseProcessDetail) {\n      increaseData.value = {\n        createTime: res.data.incrementalProcess.createTime,\n        ...increaseProcessDetail\n      }\n    }\n\n    // log\n    logData.value = res.data.logs.map(item => {\n      const name = item.substring(item.lastIndexOf('/') + 1)\n      return {\n        name,\n        url: item\n      }\n    })\n  })\n}\n\nonMounted(() => {\n  visible.value = props.open\n})\n</script>\n\n<style lang=\"less\" scoped>\n.title-con {\n  width: calc(50vw - 60px);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  .tab-con {\n    .tab-item {\n      cursor: pointer;\n      color: var(--color-text-3);\n      font-weight: 400;\n      font-size: 15px;\n      margin-right: 10px;\n      transition: all 0.1s linear;\n      &.tab-item-active {\n        color: var(--color-text-1);\n        font-weight: 500;\n        font-size: 16px;\n      }\n      &:hover {\n        color: var(--color-text-1);\n      }\n    }\n  }\n  .task-status {\n    font-size: 14px;\n    font-weight: normal;\n    b {\n      color: rgb(var(--primary-6))\n    }\n  }\n}\n.task-detail-con {\n  .progress-con {\n    margin-top: 15px;\n    margin-bottom: 15px;\n    display: flex;\n    align-items: center;\n    .progress-info {\n      white-space: nowrap;\n      margin-right: 10px;\n    }\n  }\n  .record-con {\n    margin-top: 20px;\n    .record-title {\n      font-weight: bold;\n      margin-bottom: 10px;\n    }\n    .record-list {\n      :deep(.arco-steps-item) {\n        &:last-child {\n          margin-right: 16px;\n        }\n        .arco-steps-item-content {\n          width: 100%;\n          .arco-steps-item-title {\n            width: 100%;\n            padding-right: 8px;\n          }\n        }\n      }\n      .record-item-hd {\n        display: flex;\n        justify-content: space-between;\n        .hd-info {\n          font-size: 14px;\n        }\n        .hd-time {\n          font-size: 12px;\n          color: var(--color-text-3);\n        }\n      }\n      .record-item-con {\n        .record-item {\n          .record-item-info {\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            .info {\n              font-size: 13px;\n              i {\n                cursor: pointer;\n                font-style: normal;\n                color: rgb(var(--primary-6));\n              }\n            }\n            .time {\n              font-size: 12px;\n              color: var(--color-text-3);\n            }\n          }\n          .list-con {\n            border: 1px solid var(--color-border-1);\n            border-radius: 3px;\n            padding: 5px 10px;\n            .list-item-con {\n              .list-title {\n                display: flex;\n                align-items: center;\n                justify-content: space-between;\n                .list-title-l {\n                  .arco-icon {\n                    color: rgb(var(--primary-6));\n                  }\n                  span {\n                    font-size: 14px;\n                    margin-left: 3px;\n                    color: var(--color-text-2);\n                  }\n                }\n                .list-title-r {\n                  span {\n                    font-size: 12px;\n                    color: var(--color-text-3);\n                  }\n                }\n              }\n              .list-info-em {\n                margin-left: 18px;\n                span {\n                  font-size: 12px;\n                  color: rgb(var(--warning-6));\n                }\n              }\n              .list-info {\n                margin-left: 18px;\n                span {\n                  font-size: 12px;\n                  color: var(--color-text-2);\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  .log-con {\n    margin-top: 10px;\n    .log-detail-info {\n      white-space: pre-wrap;\n    }\n  }\n}\n</style>\n","import script from \"./SubTaskDetail.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SubTaskDetail.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SubTaskDetail.vue?vue&type=style&index=0&id=3591ec7b&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/xielibo/ideawork/huawei/openGauss-workbench/data-migration/web-ui/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3591ec7b\"]])\n\nexport default __exports__","<template>\n  <div class=\"detail-container\">\n    <div class=\"title-con\">\n      <div class=\"title-left\">\n        <div class=\"title\">数据迁移任务详情（{{ task.taskName }}）</div>\n        <div class=\"task-status-con\">\n          <span class=\"task-status-title\">任务状态：</span>\n          <span class=\"task-status\">{{ execStatusMap(task.execStatus) }}</span>\n        </div>\n      </div>\n      <div class=\"title-right\">\n        <a-button v-if=\"task.execStatus === 1\" type=\"primary\" @click=\"stopTask\">停止</a-button>\n      </div>\n    </div>\n    <a-divider />\n    <div class=\"desc-con\">\n      <a-descriptions :data=\"descData\" layout=\"inline-horizontal\" table-layout=\"fixed\" bordered />\n    </div>\n    <div class=\"progress-con\">\n      <span class=\"progress-info\">总进度</span>\n      <a-progress size=\"large\" :percent=\"task.execStatus === 2 ? 1: (task.execProgress || 0)\" />\n      <a-button type=\"text\" @click=\"loopSubTaskStatus\">\n        <template #icon>\n          <icon-refresh />\n        </template>\n        <template #default>刷新</template>\n      </a-button>\n    </div>\n    <div class=\"table-con\">\n      <a-table :data=\"tableData\" :bordered=\"false\" stripe :pagination=\"pagination\" @page-change=\"pageChange\">\n        <template #columns>\n          <a-table-column title=\"子任务ID\" data-index=\"id\"></a-table-column>\n          <a-table-column title=\"源库名\" data-index=\"sourceDb\"></a-table-column>\n          <a-table-column title=\"目的库名\" data-index=\"targetDb\"></a-table-column>\n          <a-table-column title=\"迁移过程模式\">\n            <template #cell=\"{ record }\">\n              {{ record.migrationModelId === 1 ? '离线模式' : '在线模式' }}\n            </template>\n          </a-table-column>\n          <a-table-column title=\"执行机器\">\n            <template #cell=\"{ record }\">\n              {{ record.runHost }}（{{ record.runHostname }}）\n            </template>\n          </a-table-column>\n          <a-table-column title=\"当前状态\">\n            <template #cell=\"{ record }\">\n              {{ execSubStatusMap(record.execStatus) }}\n            </template>\n          </a-table-column>\n          <a-table-column title=\"操作\" align=\"center\" :width=\"340\" fixed=\"right\">\n            <template #cell=\"{ record }\">\n              <a-button\n                size=\"mini\"\n                type=\"text\"\n                @click=\"handleDetail(record)\"\n              >\n                <template #icon>\n                  <icon-eye />\n                </template>\n                <template #default>详情</template>\n              </a-button>\n              <!-- <a-button\n                v-if=\"(record.migrationModelId === 1 && record.execStatus === 2) || (record.migrationModelId === 2 && record.execStatus === 2)\"\n                size=\"mini\"\n                type=\"text\"\n                @click=\"stopSubTask(record)\"\n              >\n                <template #icon>\n                  <icon-pause />\n                </template>\n                <template #default>停止全量</template>\n              </a-button> -->\n              <a-button\n                v-if=\"record.migrationModelId === 2 && record.execStatus === 8\"\n                size=\"mini\"\n                type=\"text\"\n                @click=\"stopSubIncrease(record)\"\n              >\n                <template #icon>\n                  <icon-pause />\n                </template>\n                <template #default>停止增量</template>\n              </a-button>\n              <a-button\n                v-if=\"record.migrationModelId === 2 && (record.execStatus === 3 || record.execStatus === 9)\"\n                size=\"mini\"\n                type=\"text\"\n                @click=\"startSubReverse(record)\"\n              >\n                <template #icon>\n                  <icon-play-arrow />\n                </template>\n                <template #default>启动反向</template>\n              </a-button>\n              <!-- <a-button\n                v-if=\"record.migrationModelId === 2 && record.execStatus === 11\"\n                size=\"mini\"\n                type=\"text\"\n              >\n                <template #icon>\n                  <icon-pause />\n                </template>\n                <template #default>停止反向</template>\n              </a-button> -->\n              <a-button\n                v-if=\"record.execStatus !== 100\"\n                size=\"mini\"\n                type=\"text\"\n                @click=\"stopSubTask(record)\"\n              >\n                <template #icon>\n                  <icon-stop />\n                </template>\n                <template #default>结束迁移</template>\n              </a-button>\n              <a-button\n                size=\"mini\"\n                type=\"text\"\n                @click=\"handleLog(record)\"\n              >\n                <template #icon>\n                  <icon-file />\n                </template>\n                <template #default>日志</template>\n              </a-button>\n            </template>\n          </a-table-column>\n        </template>\n      </a-table>\n    </div>\n\n    <!-- sub task detail -->\n    <sub-task-detail v-model:open=\"subTaskDetailVisible\" :task-info=\"task\" :sub-task-id=\"subTaskId\" :tab=\"tabIndex\" />\n  </div>\n</template>\n\n<script setup>\nimport { reactive, ref, onMounted, onBeforeUnmount } from 'vue'\nimport { Message } from '@arco-design/web-vue'\nimport SubTaskDetail from './components/SubTaskDetail.vue'\nimport { stop } from '@/api/list'\nimport { taskDetail, refreshStatus, subTaskList, subTaskFinish, subTaskStartReverse, subTaskStopIncremental } from '@/api/detail'\n\nconst task = ref({})\nconst descData = ref([])\nlet timerTop = null\nlet timerDown = null\n\nconst queryParams = reactive({\n  pageNum: 1,\n  pageSize: 10\n})\nconst pagination = reactive({\n  total: 0,\n  current: 1,\n  pageSize: 10\n})\nconst tableData = ref([])\n\n// status map\nconst execStatusMap = (status) => {\n  const maps = {\n    0: '未启动',\n    1: '迁移中',\n    2: '已完成'\n  }\n  return maps[status]\n}\n\n// sub task status map\nconst execSubStatusMap = (status) => {\n  const maps = {\n    0: '未启动',\n    1: '全量迁移开始',\n    2: '全量迁移进行中',\n    3: '全量迁移完成',\n    4: '全量校验开始',\n    5: '全量校验中',\n    6: '全量检验完成',\n    7: '增量迁移开始',\n    8: '增量迁移进行中',\n    9: '增量迁移已停止',\n    10: '反向迁移开始',\n    11: '反向迁移进行中',\n    12: '反向迁移已停止',\n    100: '迁移完成',\n    500: '迁移失败',\n    1000: '等待资源中'\n  }\n  return maps[status]\n}\n\nconst pageChange = (current) => {\n  queryParams.pageNum = current\n  pagination.current = current\n  getSubTaskList()\n}\n\nconst subTaskDetailVisible = ref(false)\nconst subTaskId = ref()\nconst tabIndex = ref(1)\n\nconst handleDetail = row => {\n  subTaskDetailVisible.value = true\n  subTaskId.value = row.id\n  tabIndex.value = 1\n}\n\nconst handleLog = row => {\n  subTaskDetailVisible.value = true\n  subTaskId.value = row.id\n  tabIndex.value = 2\n}\n\n// stop task\nconst stopTask = async () => {\n  await stop(task.value.id)\n  Message.success('Stop success')\n  getTaskDetail()\n  getSubTaskList()\n}\n\n// stop sub task full\nconst stopSubTask = row => {\n  subTaskFinish(row.id).then(() => {\n    Message.success('Stop success')\n    loopSubTaskStatus()\n    getSubTaskList()\n  })\n}\n\n// stop sub task increase\nconst stopSubIncrease = row => {\n  subTaskStopIncremental(row.id).then(() => {\n    Message.success('Stop success')\n    loopSubTaskStatus()\n    getSubTaskList()\n  })\n}\n\n// start sub task reverse\nconst startSubReverse = row => {\n  if (row.targetDbVersion.substring(0, 3) === '3.0') {\n    Message.error(`${row.targetDbVersion} version of openGauss does not support reverse migration`)\n    return\n  }\n  subTaskStartReverse(row.id).then(() => {\n    Message.success('Start success')\n    loopSubTaskStatus()\n    getSubTaskList()\n  })\n}\n\nconst loopSubTaskStatus = () => {\n  const id = window.$wujie?.props.data.id\n  refreshStatus(id).then(res => {\n    console.log(res)\n  })\n}\n\nconst getSubTaskList = () => {\n  timerDown && clearTimeout(timerDown)\n  const id = window.$wujie?.props.data.id\n  subTaskList(id, {\n    ...queryParams\n  }).then(res => {\n    tableData.value = res.rows\n    pagination.total = res.total\n    if (task.value.execStatus !== 2) {\n      timerDown = setTimeout(() => {\n        getSubTaskList()\n      }, 5000)\n    }\n  }).catch(() => {\n    timerDown && clearTimeout(timerDown)\n    timerDown = null\n  })\n}\n\nconst getTaskDetail = () => {\n  timerTop && clearTimeout(timerTop)\n  const id = window.$wujie?.props.data.id\n  taskDetail(id).then(res => {\n    task.value = res.data.task\n    const taskInfo = res.data.task\n    const subTaskCount = res.data.counts\n    const hosts = res.data.hosts\n    descData.value = [\n      {\n        label: '创建人：',\n        value: taskInfo.createUser\n      },\n      {\n        label: '子任务数量：',\n        value: subTaskCount['1'] + subTaskCount['2']\n      },\n      {\n        label: '分配执行机器：',\n        value: `${hosts.length}台（${hosts.map(item => item.hostName)}）`\n      },\n      {\n        label: '创建时间：',\n        value: taskInfo.createTime\n      },\n      {\n        label: '子任务数量（离线模式）：',\n        value: subTaskCount['1'],\n        span: 2\n      },\n      {\n        label: '执行时间：',\n        value: taskInfo.execTime\n      },\n      {\n        label: '子任务数量（在线模式）：',\n        value: subTaskCount['2'],\n        span: 2\n      }\n    ]\n    if (task.value.execStatus !== 2) {\n      timerTop = setTimeout(() => {\n        getTaskDetail()\n      }, 5000)\n    }\n  }).catch(() => {\n    timerTop && clearTimeout(timerTop)\n    timerTop = null\n  })\n}\n\nonMounted(() => {\n  getTaskDetail()\n  getSubTaskList()\n  setTimeout(() => {\n    loopSubTaskStatus()\n  }, 3000)\n})\n\nonBeforeUnmount(() => {\n  timerTop && clearTimeout(timerTop)\n  timerDown && clearTimeout(timerDown)\n})\n</script>\n\n<style lang=\"less\" scoped>\n.detail-container {\n  position: relative;\n  .title-con {\n    padding: 20px 20px 0;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    .title-left {\n      display: flex;\n      align-items: center;\n      .title {\n        font-size: 20px;\n        color: var(--color-text-1);\n      }\n      .task-status-con {\n        margin-left: 40px;\n        display: flex;\n        align-items: center;\n        .task-status-title {\n          color: var(--color-text-1);\n          white-space: nowrap;\n          margin-right: 10px;\n          display: flex;\n          align-items: center;\n        }\n        .task-status {\n          color: rgb(var(--primary-6));\n        }\n      }\n    }\n  }\n  .desc-con {\n    padding: 0 20px;\n  }\n  .progress-con {\n    margin-top: 20px;\n    padding: 0 20px;\n    display: flex;\n    align-items: center;\n    .progress-info {\n      white-space: nowrap;\n      margin-right: 10px;\n    }\n  }\n  .table-con {\n    margin-top: 20px;\n    padding: 0 20px 30px;\n  }\n}\n</style>\n","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=1139d8c6&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/xielibo/ideawork/huawei/openGauss-workbench/data-migration/web-ui/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1139d8c6\"]])\n\nexport default __exports__"],"names":["taskDetail","id","axios","refreshStatus","subTaskList","query","params","subTaskFinish","subTaskStartReverse","subTaskStopIncremental","subTaskDetail","downloadLog","taskEditInfo","list","start","stop","deleteTask","ids","userList","exports","sfc","props","target","__vccOpts","key","val","visible","tabActive","globalVisible","increaseVisible","subTaskInfo","descData","increaseData","execSubStatusMap","status","maps","recordsMap","v","emits","open","value","tab","tableData","logData","onlyError","onlyCheckError","getSubTaskDetail","tabChange","originData","statusRecords","filterTableData","type","oData","JSON","parse","stringify","map","item","children","filter","child","handleDownloadLog","url","filePath","then","res","console","log","blob","Blob","a","document","createElement","URL","window","webkitURL","herf","createObjectURL","href","download","substring","lastIndexOf","body","appendChild","click","removeChild","revokeObjectURL","subTaskId","data","task","seconds","finishTime","diff","execTime","hour","parseInt","minute","label","taskInfo","taskName","createTime","sourceDb","targetDb","fullProcessDetail","fullProcess","execResultDetail","dealData","nameMap","name","msg","Math","random","migrationModelId","increaseProcessDetail","incrementalProcess","logs","__exports__","timerTop","timerDown","queryParams","pageNum","pageSize","pagination","total","current","execStatusMap","pageChange","getSubTaskList","subTaskDetailVisible","tabIndex","handleDetail","row","handleLog","stopTask","async","getTaskDetail","stopSubTask","loopSubTaskStatus","stopSubIncrease","startSubReverse","targetDbVersion","$wujie","clearTimeout","rows","execStatus","setTimeout","catch","subTaskCount","counts","hosts","createUser","length","hostName","span"],"sourceRoot":""}