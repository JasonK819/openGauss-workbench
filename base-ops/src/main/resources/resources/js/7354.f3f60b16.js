"use strict";(self["webpackChunkweb_ui"]=self["webpackChunkweb_ui"]||[]).push([[7354],{39518:function(e,a,t){t.d(a,{$4:function(){return A},Ac:function(){return c},BL:function(){return h},C4:function(){return $},DF:function(){return M},GD:function(){return L},IW:function(){return T},K4:function(){return I},Kf:function(){return E},LR:function(){return o},Lf:function(){return r},Ox:function(){return B},PK:function(){return i},R1:function(){return x},Sv:function(){return q},T2:function(){return d},T4:function(){return U},TL:function(){return C},TY:function(){return j},Uw:function(){return y},We:function(){return R},YQ:function(){return D},Ye:function(){return m},ZA:function(){return F},_V:function(){return f},c0:function(){return u},gi:function(){return P},h:function(){return V},jQ:function(){return K},jV:function(){return S},nT:function(){return k},sT:function(){return b},tA:function(){return s},ur:function(){return v},w3:function(){return p},xj:function(){return g},y6:function(){return N},zs:function(){return _},zx:function(){return w}});var l=t(9669),n=t.n(l);const r=()=>n().get("encryption/getKey"),o=e=>n().post("opsCluster/download",e||{}),u=e=>n().get(`opsCluster/env/${e}`),c=e=>n().post("opsCluster/install",e),s=e=>n().post("opsCluster/import",e),i=e=>n().post("opsCluster/quickInstall",e),g=e=>n().get("opsCluster/check",{params:e}),p=e=>n().post("opsCluster/uninstall",e),d=e=>n().get("opsCluster/hasName",{params:e}),f=()=>n().get("opsCluster/listCluster"),m=e=>n().post("opsCluster/ssh",e),k=e=>n().get("opsCluster/monitor",{params:e}),h=e=>n().post("opsCluster/start",e),b=e=>n().post("opsCluster/stop",e),v=e=>n().post("opsCluster/restart",e),C=e=>n().get("opsCluster/listHost",{params:e}),V=e=>n().get(e?`opsCluster/listInstallPackage?path=${e}`:"opsCluster/listInstallPackage"),w=()=>n().get("host/listAll"),D=e=>n().get(`hostUser/listAllWithoutRoot/${e}`),A=()=>n().get("az/listAll"),M=e=>n().get("opsCluster/logPath",{params:e}),P=e=>n().get("opsCluster/ls",{params:e}),y=e=>n().get("opsCluster/slowSql",{params:e}),L=e=>n().get("opsCluster/auditLog",{params:e}),q=e=>n().get("opsCluster/download",{params:e}),N=e=>n().get("wdr/list",{params:e}),x=e=>n().post("wdr/generate",e),_=e=>n()["delete"]("wdr/del/"+e),B=e=>n().get("wdr/createSnapshot",{params:e}),I=e=>n().get("wdr/downloadWdr",{params:e}),$=e=>n().get("wdr/listSnapshot",{params:e}),T=e=>n().post("backup/backup",e),U=e=>n().get("backup/page",{params:e}),E=(e,a)=>n().post("backup/recover/"+e,a),S=e=>n()["delete"]("backup/del/"+e),R=e=>n().get("installPackageManager/page",{params:e}),j=e=>n()["delete"]("installPackageManager/"+e),F=e=>n().post("installPackageManager/save",e),K=(e,a)=>n().put(`installPackageManager/update/${e}`,a)},79092:function(e,a,t){t.r(a),t.d(a,{default:function(){return s}});var l=t(70821),n=t(39518),r=t(15784),o=t(57330),u=(0,l.defineComponent)({emits:["finish"],setup(e,{expose:a,emit:t}){const{t:u}=(0,o.QT)(),c=(0,l.reactive)({show:!1,title:"",formData:{packageId:"",os:"centos",cpuArch:"x86_64",packageVersion:"MINIMAL_LIST",packageVersionNum:"3.0.0",packageUrl:""},rules:{},osList:[],cpuArchList:[],packageVersionList:[]}),s=(0,l.ref)(!1),i=(0,l.ref)(null),g=()=>{i.value?.validate().then((e=>{e||(c.formData.packageId?(0,n.jQ)(c.formData.packageId,c.formData).then((()=>{r.Z.success({content:"Modified success"}),t("finish"),p()})).finally((()=>{s.value=!1})):(0,n.ZA)(c.formData).then((()=>{r.Z.success({content:"Create success"}),t("finish"),p()})).finally((()=>{s.value=!1})))}))},p=()=>{c.show=!1,(0,l.nextTick)((()=>{i.value?.clearValidate(),i.value?.resetFields()}))},d=(e,a)=>{c.show=!0,c.title=u("create"===e?"packageManage.AddPackageDlg.5myq6nnebrc0":"packageManage.AddPackageDlg.5myq6nnebwo0"),c.osList=[{label:"centos",value:"centos"},{label:"openEuler",value:"openEuler"}],c.cpuArchList=[{label:"x86_64",value:"x86_64"},{label:"aarch64",value:"aarch64"}],c.packageVersionList=[{label:u("packageManage.AddPackageDlg.5myq6nnec400"),value:"ENTERPRISE"},{label:u("packageManage.AddPackageDlg.5myq6nnec8c0"),value:"MINIMAL_LIST"},{label:u("packageManage.AddPackageDlg.5myq6nnecc40"),value:"LITE"}],c.rules={packageVersionNum:[{required:!0,"validate-trigger":"blur",message:u("packageManage.AddPackageDlg.5myq6nnebew0")}],packageUrl:[{required:!0,"validate-trigger":"blur",message:u("packageManage.AddPackageDlg.5myq6nnebn40")}]},a&&Object.assign(c.formData,a)};return a({open:d}),(e,a)=>{const t=(0,l.resolveComponent)("a-option"),n=(0,l.resolveComponent)("a-select"),r=(0,l.resolveComponent)("a-form-item"),o=(0,l.resolveComponent)("a-input"),u=(0,l.resolveComponent)("a-form"),d=(0,l.resolveComponent)("a-modal");return(0,l.openBlock)(),(0,l.createBlock)(d,{"mask-closable":!1,"esc-to-close":!1,"ok-loading":s.value,visible:(0,l.unref)(c).show,title:(0,l.unref)(c).title,"modal-style":{width:"550px"},onOk:g,onCancel:p},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(u,{model:(0,l.unref)(c).formData,rules:(0,l.unref)(c).rules,ref:(e,a)=>{a["formRef"]=e,i.value=e},"auto-label-width":""},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(r,{field:"os",label:e.$t("packageManage.AddPackageDlg.5myq6nnea2w0"),"validate-trigger":"change"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(n,{modelValue:(0,l.unref)(c).formData.os,"onUpdate:modelValue":a[0]||(a[0]=e=>(0,l.unref)(c).formData.os=e),placeholder:e.$t("packageManage.AddPackageDlg.5myq6nneap40")},{default:(0,l.withCtx)((()=>[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(c).osList,((e,a)=>((0,l.openBlock)(),(0,l.createBlock)(t,{key:a,value:e.value,label:e.label},null,8,["value","label"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,l.createVNode)(r,{label:e.$t("packageManage.AddPackageDlg.else1"),"validate-trigger":"change"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(n,{modelValue:(0,l.unref)(c).formData.cpuArch,"onUpdate:modelValue":a[1]||(a[1]=e=>(0,l.unref)(c).formData.cpuArch=e),placeholder:e.$t("packageManage.AddPackageDlg.5myq6nneaw40")},{default:(0,l.withCtx)((()=>[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(c).cpuArchList,((e,a)=>((0,l.openBlock)(),(0,l.createBlock)(t,{key:a,value:e.value,label:e.label},null,8,["value","label"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,l.createVNode)(r,{label:e.$t("packageManage.AddPackageDlg.5myq6nneb180"),"validate-trigger":"change"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(n,{modelValue:(0,l.unref)(c).formData.packageVersion,"onUpdate:modelValue":a[2]||(a[2]=e=>(0,l.unref)(c).formData.packageVersion=e),placeholder:e.$t("packageManage.AddPackageDlg.5myq6nneb5w0")},{default:(0,l.withCtx)((()=>[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(c).packageVersionList,((e,a)=>((0,l.openBlock)(),(0,l.createBlock)(t,{key:a,value:e.value,label:e.label},null,8,["value","label"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,l.createVNode)(r,{field:"packageVersionNum",label:e.$t("packageManage.AddPackageDlg.5myq6nnebag0"),"validate-trigger":"blur"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(o,{modelValue:(0,l.unref)(c).formData.packageVersionNum,"onUpdate:modelValue":a[3]||(a[3]=e=>(0,l.unref)(c).formData.packageVersionNum=e),placeholder:e.$t("packageManage.AddPackageDlg.5myq6nnebew0")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,l.createVNode)(r,{field:"packageUrl",label:e.$t("packageManage.AddPackageDlg.5myq6nnebis0"),"validate-trigger":"blur"},{default:(0,l.withCtx)((()=>[(0,l.createVNode)(o,{modelValue:(0,l.unref)(c).formData.packageUrl,"onUpdate:modelValue":a[4]||(a[4]=e=>(0,l.unref)(c).formData.packageUrl=e),placeholder:e.$t("packageManage.AddPackageDlg.5myq6nnebn40")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1},8,["model","rules"])])),_:1},8,["ok-loading","visible","title"])}}});const c=u;var s=c}}]);
//# sourceMappingURL=7354.f3f60b16.js.map