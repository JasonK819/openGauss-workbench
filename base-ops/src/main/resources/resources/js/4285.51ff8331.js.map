{"version":3,"file":"js/4285.51ff8331.js","mappings":"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","sources":["webpack://web-ui/./src/views/ops/install/components/InstallStep.vue?d463","webpack://web-ui/./src/views/ops/install/components/InstallStep.vue"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-564b0b4a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"panel-c\" }\n\nimport { computed, ref } from 'vue'\nimport SimpleInstall from './simple/SimpleInstall.vue'\nimport { useOpsStore } from '@/store'\nimport { OpenGaussVersionEnum } from '@/types/ops/install'\nimport LightWeightInstall from './lightweight/LightWeightInstall.vue'\nimport EnterpriseInstall from './enterprise/EnterpriseInstall.vue'\nimport LookengInstall from './openLookeng/LookengInstall.vue'\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props, { expose }) {\n\nconst currStep = ref<number>(1)\n\nconst opsStore = useOpsStore()\n\nconst simpleInstallRef = ref<InstanceType<typeof SimpleInstall> | null>(null)\nconst liteInstallRef = ref<InstanceType<typeof LightWeightInstall> | null>(null)\nconst enterpriseInstallRef = ref<InstanceType<typeof EnterpriseInstall> | null>(null)\nconst lookengInstallRef = ref<InstanceType<typeof LookengInstall> | null>(null)\n\nconst customFunction = () => {\n  console.log('')\n}\n\nconst onPrev = () => {\n  currStep.value = Math.max(1, currStep.value - 1)\n}\nconst onNext = async () => {\n  if (installStore.value.openGaussVersion === OpenGaussVersionEnum.MINIMAL_LIST) {\n    console.log('ql beforeConfirm', liteInstallRef.value)\n    const res = await simpleInstallRef.value?.beforeConfirm()\n    if (res) {\n      currStep.value = Math.min(5, currStep.value + 1)\n    }\n  }\n  if (installStore.value.openGaussVersion === OpenGaussVersionEnum.LITE) {\n    console.log('ql beforeConfirm', liteInstallRef.value)\n    const res = await liteInstallRef.value?.beforeConfirm()\n    if (res) {\n      currStep.value = Math.min(5, currStep.value + 1)\n    }\n  }\n  if (installStore.value.openGaussVersion === OpenGaussVersionEnum.ENTERPRISE) {\n    const res = await enterpriseInstallRef.value?.beforeConfirm()\n    if (res) {\n      currStep.value = Math.min(5, currStep.value + 1)\n    }\n  }\n  if (installStore.value.openGaussVersion === OpenGaussVersionEnum.OPENlOOKENG) {\n    const res = await lookengInstallRef.value?.beforeConfirm()\n    if (res) {\n      currStep.value = Math.min(2, currStep.value + 1)\n    }\n  }\n}\n\nconst installStore = computed(() => opsStore.getInstallConfig)\n\nexpose({\n  currStep,\n  onPrev,\n  onNext\n})\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_unref(installStore).openGaussVersion === _unref(OpenGaussVersionEnum).MINIMAL_LIST)\n      ? (_openBlock(), _createBlock(SimpleInstall, {\n          key: 0,\n          \"curr-step\": currStep.value,\n          \"custom-func\": customFunction,\n          ref: (_value, _refs) => {\n            _refs['simpleInstallRef'] = _value\n            simpleInstallRef.value = _value\n          }\n        }, null, 8, [\"curr-step\"]))\n      : _createCommentVNode(\"\", true),\n    (_unref(installStore).openGaussVersion === _unref(OpenGaussVersionEnum).LITE)\n      ? (_openBlock(), _createBlock(LightWeightInstall, {\n          key: 1,\n          \"curr-step\": currStep.value,\n          ref: (_value, _refs) => {\n            _refs['liteInstallRef'] = _value\n            liteInstallRef.value = _value\n          }\n        }, null, 8, [\"curr-step\"]))\n      : _createCommentVNode(\"\", true),\n    (_unref(installStore).openGaussVersion === _unref(OpenGaussVersionEnum).ENTERPRISE)\n      ? (_openBlock(), _createBlock(EnterpriseInstall, {\n          key: 2,\n          \"curr-step\": currStep.value,\n          ref: (_value, _refs) => {\n            _refs['enterpriseInstallRef'] = _value\n            enterpriseInstallRef.value = _value\n          }\n        }, null, 8, [\"curr-step\"]))\n      : _createCommentVNode(\"\", true),\n    (_unref(installStore).openGaussVersion === _unref(OpenGaussVersionEnum).OPENlOOKENG)\n      ? (_openBlock(), _createBlock(LookengInstall, {\n          key: 3,\n          \"curr-step\": currStep.value,\n          ref: (_value, _refs) => {\n            _refs['lookengInstallRef'] = _value\n            lookengInstallRef.value = _value\n          }\n        }, null, 8, [\"curr-step\"]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","import script from \"./InstallStep.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./InstallStep.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./InstallStep.vue?vue&type=style&index=0&id=564b0b4a&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/xielibo/ideawork/huawei/base-ops/web-ui/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-564b0b4a\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_defineComponent","setup","__props","expose","currStep","ref","opsStore","useOpsStore","simpleInstallRef","liteInstallRef","enterpriseInstallRef","lookengInstallRef","customFunction","console","log","onPrev","value","Math","max","onNext","async","installStore","openGaussVersion","OpenGaussVersionEnum","res","beforeConfirm","min","computed","getInstallConfig","_ctx","_cache","_openBlock","_createElementBlock","_unref","MINIMAL_LIST","_createBlock","SimpleInstall","key","_value","_refs","_createCommentVNode","LITE","LightWeightInstall","ENTERPRISE","EnterpriseInstall","OPENlOOKENG","LookengInstall","__exports__"],"sourceRoot":""}