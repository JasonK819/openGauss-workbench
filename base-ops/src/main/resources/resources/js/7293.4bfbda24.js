"use strict";(self["webpackChunkweb_ui"]=self["webpackChunkweb_ui"]||[]).push([[7293,4939],{4939:function(e,t,l){l.r(t),l.d(t,{default:function(){return n}});var o=l(70821),s=l(57330),a=(0,o.defineComponent)({emits:["finish","cancel"],setup(e,{expose:t,emit:l}){const{t:a}=(0,s.QT)(),r=(0,o.reactive)({show:!1,title:a("operation.ClusterBackupDlg.5mplmzbrpas0"),loading:!1,formData:{clusterId:"",backupPath:"",remark:""},rules:{}}),n=(0,o.ref)(null),c=()=>{r.show=!1,(0,o.nextTick)((()=>{n.value?.clearValidate(),n.value?.resetFields()}))},i=()=>{n.value?.validate().then((e=>{e||(l("finish",r.formData),r.show=!1)}))},d=e=>{r.show=!0,r.title=a("operation.ClusterBackupDlg.5mplmzbrpas0"),r.formData.clusterId=e,r.formData.backupPath="",r.formData.remark=""};return t({open:d}),(e,t)=>{const l=(0,o.resolveComponent)("a-input"),s=(0,o.resolveComponent)("a-form-item"),a=(0,o.resolveComponent)("a-textarea"),d=(0,o.resolveComponent)("a-form"),p=(0,o.resolveComponent)("a-modal");return(0,o.openBlock)(),(0,o.createBlock)(p,{"mask-closable":!1,"esc-to-close":!1,visible:(0,o.unref)(r).show,title:(0,o.unref)(r).title,"ok-loading":(0,o.unref)(r).loading,"modal-style":{width:"450px"},onOk:i,onCancel:c,okText:e.$t("operation.ClusterBackupDlg.5mplmzbrmkg0")},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(d,{model:(0,o.unref)(r).formData,ref:(e,t)=>{t["formRef"]=e,n.value=e},"label-col":{style:{width:"200px"}},rules:(0,o.unref)(r).rules},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(s,{label:e.$t("operation.ClusterBackupDlg.5mplmzbrntg0")},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(l,{modelValue:(0,o.unref)(r).formData.clusterId,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,o.unref)(r).formData.clusterId=e),disabled:""},null,8,["modelValue"])])),_:1},8,["label"]),(0,o.createVNode)(s,{label:e.$t("operation.ClusterBackupDlg.5mplmzbrosg0")},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(a,{modelValue:(0,o.unref)(r).formData.remark,"onUpdate:modelValue":t[1]||(t[1]=e=>(0,o.unref)(r).formData.remark=e),placeholder:e.$t("operation.ClusterBackupDlg.5mplmzbrp1s0")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1},8,["model","rules"])])),_:1},8,["visible","title","ok-loading","okText"])}}});const r=a;var n=r},32902:function(e,t,l){l.r(t),l.d(t,{default:function(){return gt}});l(57658);var o=l(70821),s=l(39518),a=l(47191),r=l(12320),n=l(12617),c=l(3334),i=l(33781),d=l(4939),p=l(98535),m=l(81922),u=l(57330);const N=e=>((0,o.pushScopeId)("data-v-79f71164"),e=e(),(0,o.popScopeId)(),e),y={class:"daily-ops-c"},x={key:0},V={class:"item-c mb"},v={class:"flex-between mb"},D={class:"flex-row ft-lg ft-b"},E={class:"mr-s"},g={class:"main-color mr-s"},f={class:"main-color mr-s"},w={class:"main-color"},k={class:"flex-row"},S={key:0,class:"flex-row ft-b mr"},h={class:"mr-s"},C={class:"mr"},b={key:0},I={class:"item-cluster-info"},O={class:"flex-row"},_={class:"flex-col-start"},$={class:"flex-row mb"},T={class:"mr-s"},L={class:"flex-row"},B={class:"mr-s"},A={key:0,class:"flex-row"},z={class:"mr-s"},M={class:"ft-lg ft-b mr-s"},F={key:1,class:"ft-b"},X={class:"flex-col-start"},R={class:"mb"},U={class:"flex-row"},P={key:0},Z={class:"flex-row"},J={class:"host-c simple-w"},G={class:"flex-between mb"},Q={class:"flex-row"},W={class:"mr"},j={class:""},q={class:"flex-row-center"},H={class:"host-info"},K={class:"flex-col-start mr"},Y={class:"flex-row mb"},ee={class:"flex-row mb"},te={class:"flex-row mb"},le={class:"flex-row"},oe={class:"flex-col-start mr"},se={class:"flex-row mb"},ae=N((()=>(0,o.createElementVNode)("div",{class:"mr-s"},"CPU:",-1))),re={class:"flex-row mb"},ne={class:"mr-s"},ce={class:"node-type"},ie={class:"content"},de={class:"flex-between mb"},pe={class:"flex-row mb-s",style:{"margin-left":"20px"}},me={class:"mr-s"},ue={class:"flex-row"},Ne=(0,o.createTextVNode)(" ON "),ye=(0,o.createTextVNode)(" OFF "),xe={class:"flex-row-center"},Ve={class:"flex-col-start mr"},ve={class:"flex-row mb"},De={class:"mr-s"},Ee={class:"flex-row"},ge={class:"mr-s"},fe={class:"flex-col-start"},we={class:"flex-row mb"},ke={class:"mr-s"},Se={class:"flex-row"},he={class:"mr-s"},Ce={class:"host-c node-w"},be={class:"flex-between mb"},Ie={class:"flex-row"},Oe={class:"mr"},_e={class:""},$e={class:"flex-row-center"},Te={class:"host-info"},Le={class:"flex-col-start mr"},Be={class:"flex-row mb"},Ae={class:"mr-s"},ze={class:"flex-row"},Me={class:"mr-s"},Fe={class:"flex-col-start mr"},Xe={class:"flex-row mb"},Re={class:"mr-s"},Ue={class:"flex-row"},Pe={class:"mr-s"},Ze={class:"flex-col-start mr"},Je={class:"flex-row mb"},Ge=N((()=>(0,o.createElementVNode)("div",{class:"mr-s"},"CPU",-1))),Qe={class:"flex-row"},We={class:"mr-s"},je={class:"instance-c node-w"},qe={class:"node-type"},He={class:"content"},Ke={class:"flex-between"},Ye={class:"flex-row mb-s",style:{"margin-left":"20px"}},et={class:"mr-s"},tt={class:"flex-row"},lt=(0,o.createTextVNode)(" ON "),ot=(0,o.createTextVNode)(" OFF "),st={class:"flex-row-center"},at={class:"flex-col-start mr"},rt={class:"flex-row mb"},nt={class:"mr-s"},ct={class:"flex-row"},it={class:"mr-s"},dt={class:"flex-col-start"},pt={class:"flex-row mb"},mt={class:"mr-s"},ut={class:"flex-row"},Nt={class:"mr-s"},yt={key:1,class:"full-w full-h flex-col"},xt={class:"empty-content mb"},Vt={key:2,class:"full-h flex-col"};var vt=(0,o.defineComponent)({setup(e){const{t:t}=(0,u.QT)(),l=(0,o.reactive)({clusterList:[],loading:!1,socketArr:[]});(0,o.onMounted)((()=>{N()})),(0,o.onBeforeUnmount)((()=>{l.socketArr.length&&l.socketArr.forEach((e=>{e&&e.destroy()}))}));const N=()=>new Promise((e=>{l.loading=!0,(0,s._V)().then((t=>{200===Number(t.code)?(e(!0),l.clusterList=[],t.data.forEach(((e,t)=>{if(e.isShow=!0,e.loading=!1,"MINIMAL_LIST"===e.version&&"CLUSTER"===e.deployType){const t=JSON.parse(JSON.stringify(e.clusterNodes[0]));t.clusterRole=p._.SLAVE,e.clusterNodes.push(t)}ft(e,t),l.clusterList.push(e)}))):e(!1)})).finally((()=>{l.loading=!1}))})),vt=(0,o.ref)(null),Dt=e=>{vt.value?.open(e.clusterId)},Et=e=>{switch(e){case"MINIMAL_LIST":return t("operation.DailyOps.5mplp1xc46o0");case"LITE":return t("operation.DailyOps.5mplp1xc4b40");default:return t("operation.DailyOps.5mplp1xc4fg0")}},gt=e=>{switch(e){case p._.MASTER:return t("operation.DailyOps.5mplp1xc4jw0");case p._.SLAVE:return t("operation.DailyOps.5mplp1xbztc0");default:return t("operation.DailyOps.5mplp1xc4oc0")}},ft=(e,t)=>{"MINIMAL_LIST"===e.version&&"CLUSTER"===e.deployType?wt(e,e.clusterNodes[0],t,0):e.clusterNodes.forEach(((l,o)=>{wt(e,l,t,o)}))},wt=(e,t,o,a)=>{const r=(new Date).getTime(),n={clusterId:e.clusterId,hostId:t.hostId,privateIp:t.privateIp,businessId:"monitor_ops_"+e.clusterId+"_"+t.hostId+"_"+r},c=new i.Z({url:`${n.businessId}`});c.onopen((()=>{(0,s.nT)(n).then((e=>{200!==Number(e.code)?c.destroy():l.socketArr.push(c)})).catch((()=>{c.destroy()}))})),c.onmessage((t=>{const s=JSON.parse(t);console.log(`ops monitor data- ${e.clusterId} - ${e.privateIp}`,s,o,a),l.clusterList[o].clusterNodes[a].state=s.state,l.clusterList[o].clusterNodes[a].cpu=s.cpu,l.clusterList[o].clusterNodes[a].memory=s.memory,l.clusterList[o].clusterNodes[a].lock=s.lock,l.clusterList[o].clusterNodes[a].session=s.session,l.clusterList[o].clusterNodes[a].connectNum=s.connectNum,l.clusterList[o].clusterNodes[a].kernel=s.kernel,s.memorySize&&(isNaN(Number(s.memorySize))||(l.clusterList[o].clusterNodes[a].memorySize=(Number(s.memorySize)/1024/1024).toFixed(2)))}))},kt=(e,t,o)=>{e.loading=!0;const a=Tt(),r=(new Date).getTime(),n=new i.Z({url:`uninstall_${e.clusterId}_${r}`});n.onopen((()=>{const t={clusterId:e.clusterId,wsConnectType:"COMMAND_EXEC",businessId:`uninstall_${e.clusterId}_${r}`,force:o};(0,s.w3)(t).then((t=>{200!==Number(t.code)?n.destroy():($t(e.clusterId),Bt(e,"uninstall"),Lt(a,n,e.clusterId))})).catch((()=>{e.loading=!1,n.destroy()}))})),n.onmessage((s=>{if(s.indexOf("FINAL_EXECUTE_EXIT_CODE")>-1){if(o)l.clusterList.splice(t,1);else{const e=Number(s.split(":")[1]);0===e&&l.clusterList.splice(t,1)}e.loading=!1,n.destroy()}}))},St=e=>{e.loading=!0;const t=(new Date).getTime(),l=new i.Z({url:`start_${e.clusterId}_${t}`});l.onopen((()=>{const o={clusterId:e.clusterId,wsConnectType:"COMMAND_EXEC",businessId:`start_${e.clusterId}_${t}`};(0,s.BL)(o).then((t=>{if(200!==Number(t.code))l.destroy();else{$t(e.clusterId),Bt(e,"start");const t=Tt();Lt(t,l,e.clusterId)}})).catch((()=>{e.loading=!1,l.destroy()}))})),l.onmessage((t=>{t.indexOf("FINAL_EXECUTE_EXIT_CODE")>-1&&(e.loading=!1,l.destroy())}))},ht=e=>{e.loading=!0;const t=(new Date).getTime(),l=new i.Z({url:`stop_${e.clusterId}_${t}`});l.onopen((()=>{const o={clusterId:e.clusterId,wsConnectType:"COMMAND_EXEC",businessId:`stop_${e.clusterId}_${t}`};(0,s.sT)(o).then((t=>{if(200!==Number(t.code))l.destroy();else{$t(e.clusterId),Bt(e,"stop");const t=Tt();Lt(t,l,e.clusterId)}})).catch((()=>{e.loading=!1,l.destroy()}))})),l.onmessage((t=>{t.indexOf("FINAL_EXECUTE_EXIT_CODE")>-1&&(e.loading=!1,l.destroy())}))},Ct=e=>{e.loading=!0;const t=(new Date).getTime(),l=new i.Z({url:`restart_${e.clusterId}_${t}`});l.onopen((()=>{const o={clusterId:e.clusterId,wsConnectType:"COMMAND_EXEC",businessId:`restart_${e.clusterId}_${t}`};(0,s.ur)(o).then((t=>{if(200!==Number(t.code))l.destroy();else{$t(e.clusterId),Bt(e,"restart");const t=Tt();Lt(t,l,e.clusterId)}})).catch((()=>{e.loading=!1,l.destroy()}))})),l.onmessage((t=>{t.indexOf("FINAL_EXECUTE_EXIT_CODE")>-1&&(e.loading=!1,l.destroy())}))},bt=(0,o.ref)(null),It=(0,o.ref)(),Ot=e=>{console.log("index: ",e,l.clusterList[e].clusterId),It.value=e,bt.value?.open(l.clusterList[e].clusterId)},_t=e=>{const t=l.clusterList[It.value];t.loading=!0;const o=(new Date).getTime(),a=new i.Z({url:`backup_${t.clusterId}_${o}`});a.onopen((()=>{const l={clusterId:t.clusterId,backupPath:e.backupPath,remark:e.remark,wsConnectType:"COMMAND_EXEC",businessId:`backup_${t.clusterId}_${o}`};(0,s.IW)(l).then((e=>{if(200!==Number(e.code))a.destroy();else{$t(t.clusterId),Bt(t,"backup");const e=Tt();Lt(e,a,t.clusterId)}})).catch((()=>{t.loading=!1,a.destroy()}))})),a.onmessage((e=>{e.indexOf("FINAL_EXECUTE_EXIT_CODE")>-1&&(t.loading=!1,a.destroy())}))},$t=e=>{const t=document.createElement("div"),l=document.createAttribute("id");l.value=e,t.setAttributeNode(l);const o=document.createAttribute("class");o.value="xterm",t.setAttributeNode(o);const s=document.createAttribute("style");t.setAttributeNode(s),t.style.marginTop="35px"},Tt=()=>new r.Terminal({fontSize:14,rows:40,cols:100,cursorBlink:!0,convertEol:!0,disableStdin:!1,cursorStyle:"underline",theme:{background:"black"}}),Lt=(e,t,l)=>{if(t){const o=new c.AttachAddon(t.ws),s=new n.FitAddon;e.loadAddon(o),e.loadAddon(s),e.open(document.getElementById(l)),s.fit(),e.clear(),e.focus(),e.write("\r\n[33m$[0m ")}else{const t=new n.FitAddon;e.loadAddon(t),e.open(document.getElementById(l)),t.fit(),e.clear(),e.focus(),e.write("\r\n[33m$[0m ")}},Bt=(e,t)=>{const l=(0,a.W)();l({id:e.clusterId,title:e.clusterId+"_"+t,mount:document.getElementById(e.clusterId),class:["custom-winbox","no-full","no-max"],background:"#1D2129",x:"center",y:"center",width:"50%",height:"50%",onClose:function(){e.loading=!1},onminimize:function(){const e=this.window?.getAttribute("class");if(e){const t=e.replace("custom-winbox","custom-winbox-mini");this.window?.setAttribute("class",t)}},onrestore:function(){const e=this.window?.getAttribute("class");if(e){const t=e.replace("custom-winbox-mini","custom-winbox");this.window?.setAttribute("class",t)}}})},At=(e,t,l)=>{Mt(e,t,l)},zt=(e,l,o)=>{console.log(t("operation.DailyOps.5mplp1xc4sw0"),e,l,o)},Mt=(e,t,o)=>{l.clusterList[t].loading=!0;const a=(new Date).getTime(),r=new i.Z({url:`${e}_instance_${l.clusterList[t].clusterId}_${a}`});r.onopen((()=>{const n={clusterId:l.clusterList[t].clusterId,nodeIds:[l.clusterList[t].clusterNodes[o].nodeId],wsConnectType:"COMMAND_EXEC",businessId:`${e}_instance_${l.clusterList[t].clusterId}_${a}`};let c;c="start"===e?(0,s.BL)(n):(0,s.sT)(n),c.then((e=>{if(200!==Number(e.code))r.destroy();else{$t(l.clusterList[t].clusterId),Bt(l.clusterList[t]);const e=Tt();Lt(e,r,l.clusterList[t].clusterId)}})).catch((()=>{l.clusterList[t].loading=!1,r.destroy()}))})),r.onmessage((e=>{e.indexOf("FINAL_EXECUTE_EXIT_CODE")>-1&&(l.clusterList[t].loading=!1,r.destroy())}))},Ft=(e,l)=>"MINIMAL_LIST"===e.version||"LITE"===e.version?t("true"===l?"operation.DailyOps.5mplp1xbz600":"operation.DailyOps.5mplp1xc4x80"):t("operation.DailyOps.5mplp1xc51s0"),Xt=(e,t)=>"MINIMAL_LIST"===e.version||"LITE"===e.version?"true"===t?"green":"red":"gray",Rt=(e,l)=>{const o=[{label:t("operation.DailyOps.5mplp1xc0o40"),value:"restart"}];return e.version===p.e0.ENTERPRISE&&l.clusterRole===p._.SLAVE&&(o.push({label:t("operation.DailyOps.5mplp1xc56k0"),value:"switch"}),o.push({label:t("operation.DailyOps.5mplp1xc5cg0"),value:"config"})),o};return(e,t)=>{const s=(0,o.resolveComponent)("icon-exclamation-circle"),a=(0,o.resolveComponent)("a-button"),r=(0,o.resolveComponent)("icon-down"),n=(0,o.resolveComponent)("icon-up"),c=(0,o.resolveComponent)("svg-icon"),i=(0,o.resolveComponent)("a-tag"),u=(0,o.resolveComponent)("a-popconfirm"),N=(0,o.resolveComponent)("a-doption"),ft=(0,o.resolveComponent)("a-dropdown"),wt=(0,o.resolveComponent)("a-switch"),It=(0,o.resolveComponent)("a-spin");return(0,o.openBlock)(),(0,o.createElementBlock)("div",y,[(0,o.unref)(l).clusterList.length&&!(0,o.unref)(l).loading?((0,o.openBlock)(),(0,o.createElementBlock)("div",x,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(l).clusterList,((t,l)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:l},[(0,o.createVNode)(It,{class:"full-w",loading:t.loading},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",V,[(0,o.createElementVNode)("div",v,[(0,o.createElementVNode)("div",D,[(0,o.createElementVNode)("div",E,(0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xbxl40")),1),(0,o.createElementVNode)("div",g,(0,o.toDisplayString)(t.clusterId?t.clusterId:"--"),1),(0,o.createElementVNode)("div",f,(0,o.toDisplayString)(t.version?Et(t.version):"--"),1),(0,o.createElementVNode)("div",w,(0,o.toDisplayString)(t.versionNum?t.versionNum:"--"),1)]),(0,o.createElementVNode)("div",k,[t.version===(0,o.unref)(p.e0).ENTERPRISE?((0,o.openBlock)(),(0,o.createElementBlock)("div",S,[(0,o.createVNode)(s),(0,o.createElementVNode)("div",h,(0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xbyi40")),1),(0,o.createElementVNode)("div",C,(0,o.toDisplayString)(t.warningNum?t.warningNum:0),1),(0,o.createVNode)(a,{type:"text",onClick:e=>Dt(t)},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xbyqc0")),1)])),_:2},1032,["onClick"])])):(0,o.createCommentVNode)("",!0),t.isShow?((0,o.openBlock)(),(0,o.createBlock)(n,{key:2,class:"open-close-c",onClick:e=>t.isShow=!1},null,8,["onClick"])):((0,o.openBlock)(),(0,o.createBlock)(r,{key:1,class:"open-close-c",onClick:e=>t.isShow=!0},null,8,["onClick"]))])]),t.isShow?((0,o.openBlock)(),(0,o.createElementBlock)("div",b,[(0,o.createElementVNode)("div",I,[(0,o.createElementVNode)("div",O,[(0,o.createVNode)(c,{"icon-class":"ops-cluster",class:"cluster-icon-size mr"}),(0,o.createElementVNode)("div",_,[(0,o.createElementVNode)("div",$,[(0,o.createElementVNode)("div",T,(0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xbyxw0")),1),(0,o.createVNode)(i,{color:"green"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xbz600")),1)])),_:1})]),(0,o.createElementVNode)("div",L,[(0,o.createElementVNode)("div",B,(0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xbzew0")),1),"CLUSTER"===t.deployType?((0,o.openBlock)(),(0,o.createElementBlock)("div",A,[(0,o.createElementVNode)("div",z,(0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xbzmw0")),1),(0,o.createElementVNode)("div",M,(0,o.toDisplayString)(t.clusterNodes.length-1),1),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xbztc0")),1)])):((0,o.openBlock)(),(0,o.createElementBlock)("div",F,(0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc0000")),1))])])]),(0,o.createElementVNode)("div",X,[(0,o.createElementVNode)("div",R,(0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc0640")),1),(0,o.createElementVNode)("div",U,[(0,o.createVNode)(a,{type:"outline",class:"mr",onClick:e=>St(t)},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc0c00")),1)])),_:2},1032,["onClick"]),(0,o.createVNode)(a,{type:"outline",class:"mr",onClick:e=>ht(t)},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc0i80")),1)])),_:2},1032,["onClick"]),(0,o.createVNode)(a,{type:"outline",class:"mr",onClick:e=>Ct(t)},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc0o40")),1)])),_:2},1032,["onClick"]),(0,o.createVNode)(a,{type:"outline",class:"mr",onClick:e=>Ot(l)},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc0u40")),1)])),_:2},1032,["onClick"]),(0,o.createVNode)(u,{content:e.$t("operation.DailyOps.5mplp1xc0zo0"),type:"warning","ok-text":e.$t("operation.DailyOps.5mplp1xc1580"),"cancel-text":e.$t("operation.DailyOps.5mplp1xc1b00"),onOk:e=>kt(t,l,!1)},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(a,{type:"outline",status:"danger",class:"mr"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc1gs0")),1)])),_:1})])),_:2},1032,["content","ok-text","cancel-text","onOk"]),(0,o.createVNode)(u,{content:e.$t("operation.DailyOps.5mplp1xc0zo0"),type:"warning","ok-text":e.$t("operation.DailyOps.5mplp1xc1580"),"cancel-text":e.$t("operation.DailyOps.5mplp1xc1b00"),onOk:e=>kt(t,l,!0)},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(a,{type:"outline",status:"danger",class:"mr"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc1ms0")),1)])),_:1})])),_:2},1032,["content","ok-text","cancel-text","onOk"])])])]),"MINIMAL_LIST"===t.version&&"CLUSTER"===t.deployType?((0,o.openBlock)(),(0,o.createElementBlock)("div",P,[(0,o.createElementVNode)("div",Z,[(0,o.createElementVNode)("div",J,[(0,o.createElementVNode)("div",G,[(0,o.createElementVNode)("div",Q,[(0,o.createElementVNode)("div",W,(0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc1t80")),1),(0,o.createElementVNode)("div",j,(0,o.toDisplayString)(t.clusterNodes[0].azAddress?t.clusterNodes[0].azAddress:"--"),1)]),(0,o.createVNode)(ft,{onSelect:e=>At(e,l,0)},{content:(0,o.withCtx)((()=>[(0,o.createVNode)(N,{value:"start"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc25o0")),1)])),_:1}),(0,o.createVNode)(N,{value:"stop"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc2b40")),1)])),_:1})])),default:(0,o.withCtx)((()=>[(0,o.createVNode)(a,null,{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc20k0")),1)])),_:1})])),_:2},1032,["onSelect"])]),(0,o.createElementVNode)("div",q,[(0,o.createVNode)(c,{"icon-class":"ops-host",class:"host-icon-size mr-lg"}),(0,o.createElementVNode)("div",H,[(0,o.createElementVNode)("div",K,[(0,o.createElementVNode)("div",Y,[(0,o.createElementVNode)("div",null,(0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc2gw0")),1),(0,o.createElementVNode)("div",null,(0,o.toDisplayString)(t.clusterNodes[0].privateIp),1)]),(0,o.createElementVNode)("div",ee,[(0,o.createElementVNode)("div",null,(0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc2ls0")),1),(0,o.createElementVNode)("div",null,(0,o.toDisplayString)(t.clusterNodes[0].privateIp),1)]),(0,o.createElementVNode)("div",te,[(0,o.createElementVNode)("div",null,(0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc2sw0")),1),(0,o.createElementVNode)("div",null,(0,o.toDisplayString)(t.clusterNodes[0].hostname),1)]),(0,o.createElementVNode)("div",le,[(0,o.createElementVNode)("div",null,(0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc2xs0")),1),(0,o.createElementVNode)("div",null,(0,o.toDisplayString)(t.clusterNodes[0].kernel?t.clusterNodes[0].kernel:"-")+(0,o.toDisplayString)(e.$t("operation.DailyOps.else1"))+(0,o.toDisplayString)(t.clusterNodes[0].memorySize?t.clusterNodes[0].memorySize:"-")+"G",1)])]),(0,o.createElementVNode)("div",oe,[(0,o.createElementVNode)("div",se,[ae,(0,o.createElementVNode)("div",null,(0,o.toDisplayString)(t.clusterNodes[0].cpu?t.clusterNodes[0].cpu:"--")+"%",1)]),(0,o.createElementVNode)("div",re,[(0,o.createElementVNode)("div",ne,(0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc32g0")),1),(0,o.createElementVNode)("div",null,(0,o.toDisplayString)(t.clusterNodes[0].memory?t.clusterNodes[0].memory:"--")+"% ",1)])])])])]),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(t.clusterNodes,((s,r)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"instance-c simple-w",key:r},[(0,o.createElementVNode)("div",ce,[(0,o.createElementVNode)("div",ie,(0,o.toDisplayString)(gt(s.clusterRole)),1)]),(0,o.createElementVNode)("div",de,[(0,o.createElementVNode)("div",pe,[(0,o.createElementVNode)("div",me,(0,o.toDisplayString)(e.$t("operation.DailyOps.else2"))+(0,o.toDisplayString)(r+1),1),(0,o.createVNode)(i,{color:Xt(t,t.clusterNodes[0].state)},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(Ft(t,t.clusterNodes[0].state)),1)])),_:2},1032,["color"])]),(0,o.createElementVNode)("div",ue,[(0,o.createVNode)(wt,{class:"mr",onChange:e=>zt(e,l,r)},{checked:(0,o.withCtx)((()=>[Ne])),unchecked:(0,o.withCtx)((()=>[ye])),_:2},1032,["onChange"]),(0,o.createVNode)(ft,{onSelect:e=>Mt(e,l,r)},{content:(0,o.withCtx)((()=>[(0,o.createVNode)(N,{value:"restart"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc0o40")),1)])),_:1})])),default:(0,o.withCtx)((()=>[(0,o.createVNode)(a,null,{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc20k0")),1)])),_:1})])),_:2},1032,["onSelect"])])]),(0,o.createElementVNode)("div",xe,[(0,o.createVNode)(c,{"icon-class":"ops-instance",class:"host-icon-size mr-lg"}),(0,o.createElementVNode)("div",Ve,[(0,o.createElementVNode)("div",ve,[(0,o.createElementVNode)("div",De,(0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc3740")),1),(0,o.createElementVNode)("div",null,(0,o.toDisplayString)(t.clusterNodes[0].session?t.clusterNodes[0].session:"--")+(0,o.toDisplayString)(e.$t("operation.DailyOps.else3")),1)]),(0,o.createElementVNode)("div",Ee,[(0,o.createElementVNode)("div",ge,(0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc3bw0")),1),(0,o.createElementVNode)("div",null,(0,o.toDisplayString)(t.clusterNodes[0].connectNum?t.clusterNodes[0].connectNum:"--")+(0,o.toDisplayString)(e.$t("operation.DailyOps.else3")),1)])]),(0,o.createElementVNode)("div",fe,[(0,o.createElementVNode)("div",we,[(0,o.createElementVNode)("div",ke,(0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc3hs0")),1),(0,o.createElementVNode)("div",null,(0,o.toDisplayString)(t.clusterNodes[0].lock?t.clusterNodes[0].lock:"--")+(0,o.toDisplayString)(e.$t("operation.DailyOps.else3")),1)]),(0,o.createElementVNode)("div",Se,[(0,o.createElementVNode)("div",he,(0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc3no0")),1),(0,o.createElementVNode)("div",null,(0,o.toDisplayString)(t.clusterNodes[0].azName?t.clusterNodes[0].azName:"--"),1)])])])])))),128))])])):((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,{key:1},(0,o.renderList)(t.clusterNodes,((s,r)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"item-node-info",key:r},[(0,o.createElementVNode)("div",Ce,[(0,o.createElementVNode)("div",be,[(0,o.createElementVNode)("div",Ie,[(0,o.createElementVNode)("div",Oe,(0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc1t80")),1),(0,o.createElementVNode)("div",_e,(0,o.toDisplayString)(s.azAddress?s.azAddress:"--"),1)]),(0,o.createVNode)(ft,{onSelect:e=>At(e,l,r)},{content:(0,o.withCtx)((()=>[(0,o.createVNode)(N,{value:"start"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc25o0")),1)])),_:1}),(0,o.createVNode)(N,{value:"stop"},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc2b40")),1)])),_:1})])),default:(0,o.withCtx)((()=>[(0,o.createVNode)(a,null,{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc20k0")),1)])),_:1})])),_:2},1032,["onSelect"])]),(0,o.createElementVNode)("div",$e,[(0,o.createVNode)(c,{"icon-class":"ops-host",class:"host-icon-size mr-lg"}),(0,o.createElementVNode)("div",Te,[(0,o.createElementVNode)("div",Le,[(0,o.createElementVNode)("div",Be,[(0,o.createElementVNode)("div",Ae,(0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc2gw0")),1),(0,o.createElementVNode)("div",null,(0,o.toDisplayString)(s.privateIp),1)]),(0,o.createElementVNode)("div",ze,[(0,o.createElementVNode)("div",Me,(0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc2ls0")),1),(0,o.createElementVNode)("div",null,(0,o.toDisplayString)(s.publicIp),1)])]),(0,o.createElementVNode)("div",Fe,[(0,o.createElementVNode)("div",Xe,[(0,o.createElementVNode)("div",Re,(0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc2sw0")),1),(0,o.createElementVNode)("div",null,(0,o.toDisplayString)(s.hostname),1)]),(0,o.createElementVNode)("div",Ue,[(0,o.createElementVNode)("div",Pe,(0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc2xs0")),1),(0,o.createElementVNode)("div",null,(0,o.toDisplayString)(s.kernel?s.kernel:"-")+(0,o.toDisplayString)(e.$t("operation.DailyOps.else1"))+(0,o.toDisplayString)(s.memorySize?s.memorySize:"-")+"G",1)])]),(0,o.createElementVNode)("div",Ze,[(0,o.createElementVNode)("div",Je,[Ge,(0,o.createElementVNode)("div",null,(0,o.toDisplayString)(s.cpu?s.cpu:"--")+"%",1)]),(0,o.createElementVNode)("div",Qe,[(0,o.createElementVNode)("div",We,(0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc32g0")),1),(0,o.createElementVNode)("div",null,(0,o.toDisplayString)(s.memory?s.memory:"--")+"%",1)])])])])]),(0,o.createElementVNode)("div",je,[(0,o.createElementVNode)("div",qe,[(0,o.createElementVNode)("div",He,(0,o.toDisplayString)(gt(s.clusterRole)),1)]),(0,o.createElementVNode)("div",Ke,[(0,o.createElementVNode)("div",Ye,[(0,o.createElementVNode)("div",et,(0,o.toDisplayString)(e.$t("operation.DailyOps.else2"))+(0,o.toDisplayString)(r+1),1),(0,o.createVNode)(i,{color:Xt(t,s.state)},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(Ft(t,s.state)),1)])),_:2},1032,["color"])]),(0,o.createElementVNode)("div",tt,[(0,o.createVNode)(wt,{class:"mr",onChange:e=>zt(e,l,r)},{checked:(0,o.withCtx)((()=>[lt])),unchecked:(0,o.withCtx)((()=>[ot])),_:2},1032,["onChange"]),(0,o.createVNode)(ft,{onSelect:e=>Mt(e,l,r)},{content:(0,o.withCtx)((()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(Rt(t,s),((e,t)=>((0,o.openBlock)(),(0,o.createBlock)(N,{value:e.value,key:t},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.label),1)])),_:2},1032,["value"])))),128))])),default:(0,o.withCtx)((()=>[(0,o.createVNode)(a,null,{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc20k0")),1)])),_:1})])),_:2},1032,["onSelect"])])]),(0,o.createElementVNode)("div",st,[(0,o.createVNode)(c,{"icon-class":"ops-instance",class:"host-icon-size mr-lg"}),(0,o.createElementVNode)("div",at,[(0,o.createElementVNode)("div",rt,[(0,o.createElementVNode)("div",nt,(0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc3740")),1),(0,o.createElementVNode)("div",null,(0,o.toDisplayString)(s.session?s.session:"--")+(0,o.toDisplayString)(e.$t("operation.DailyOps.else3")),1)]),(0,o.createElementVNode)("div",ct,[(0,o.createElementVNode)("div",it,(0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc3bw0")),1),(0,o.createElementVNode)("div",null,(0,o.toDisplayString)(s.connectNum?s.connectNum:"--")+(0,o.toDisplayString)(e.$t("operation.DailyOps.else3")),1)])]),(0,o.createElementVNode)("div",dt,[(0,o.createElementVNode)("div",pt,[(0,o.createElementVNode)("div",mt,(0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc3hs0")),1),(0,o.createElementVNode)("div",null,(0,o.toDisplayString)(s.lock?s.lock:"--")+(0,o.toDisplayString)(e.$t("operation.DailyOps.else3")),1)]),(0,o.createElementVNode)("div",ut,[(0,o.createElementVNode)("div",Nt,(0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc3no0")),1),(0,o.createElementVNode)("div",null,(0,o.toDisplayString)(s.azName?s.azName:"--"),1)])])])])])))),128))])):(0,o.createCommentVNode)("",!0)])])),_:2},1032,["loading"])])))),128))])):(0,o.createCommentVNode)("",!0),0!==(0,o.unref)(l).clusterList.length||(0,o.unref)(l).loading?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",yt,[(0,o.createVNode)(c,{"icon-class":"ops-empty",class:"empty-icon-size mb"}),(0,o.createElementVNode)("div",xt,(0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc3ss0")),1),(0,o.createVNode)(a,{type:"outline",size:"large",onClick:t[0]||(t[0]=t=>e.$router.push({name:"OpsInstall"}))},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$t("operation.DailyOps.5mplp1xc3xg0")),1)])),_:1})])),(0,o.unref)(l).loading?((0,o.openBlock)(),(0,o.createElementBlock)("div",Vt,[(0,o.createVNode)(It,{tip:e.$t("operation.DailyOps.5mplp1xc4200")},null,8,["tip"])])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(d["default"],{ref:(e,t)=>{t["backupRef"]=e,bt.value=e},onFinish:_t},null,512),(0,o.createVNode)(m["default"],{ref:(e,t)=>{t["oneCheckRef"]=e,vt.value=e}},null,512)])}}}),Dt=l(83744);const Et=(0,Dt.Z)(vt,[["__scopeId","data-v-79f71164"]]);var gt=Et}}]);
//# sourceMappingURL=7293.4bfbda24.js.map