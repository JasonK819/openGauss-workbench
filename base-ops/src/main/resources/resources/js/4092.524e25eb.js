"use strict";(self["webpackChunkweb_ui"]=self["webpackChunkweb_ui"]||[]).push([[4092,6528,2467,3468],{13368:function(e,a,l){l.r(a),l.d(a,{default:function(){return f}});var t=l(70821),n=l(88615),o=l(40225),i=l(15784),s=l(98535);const r={class:"install"},u={class:"install-body"},c={class:"install-footer"};var v=(0,t.defineComponent)({setup(e){const a=(0,o.BH)(),l=(0,t.ref)(n.firstStep),v=(0,t.ref)("ChooseVersion"),p=(0,t.ref)("animate__fadeInRight"),d=(0,t.ref)("animate__fadeOutLeft"),f=(0,t.ref)(!1),m=(0,t.ref)(!0),h=(0,t.ref)(!0),g=(0,t.ref)(null),k=()=>{f.value=!0},_=()=>{f.value=!1},C=e=>{m.value=e},I=e=>{h.value=e};(0,t.provide)("loading",{toLoading:k,cancelLoading:_,setBackBtnShow:C,setNextBtnShow:I}),(0,t.onMounted)((()=>{a.resetInstall()})),(0,t.onBeforeUnmount)((()=>{a.resetInstall()}));const S=()=>{let e;p.value="animate__fadeInLeft",d.value="animate__fadeOutRightBig","InstallStep"===v.value?1===g.value?.currStep?(e="import"===a.getInstallConfig.installType||a.getInstallConfig.openGaussVersion===s.e0.OPENlOOKENG?n.chooseStep[v.value].parentImport:N.value.installMode?n.chooseStep[v.value].parent[N.value.installMode]:n.chooseStep[v.value].parent.offline,l.value=e.comp,v.value=e.name):g.value?.onPrev():(e=n.chooseStep[v.value].parent,l.value=e.comp,v.value=e.name)},B=()=>{w(),y()},w=()=>{p.value="animate__fadeInRight",d.value="animate__fadeOutLeft"},y=()=>{if("ChooseVersion"===v.value&&a.getInstallConfig.openGaussVersion===s.e0.OPENlOOKENG){const e=n.chooseStep[v.value].childrenImport;return l.value=e.comp,void(v.value=e.name)}if("InstallStep"===v.value)g.value?.onNext();else if("ChooseVersion"===v.value&&"import"===a.getInstallConfig.installType){const e=n.chooseStep[v.value].childrenImport;l.value=e.comp,v.value=e.name}else{let e;if("ChooseInstallWay"===v.value)e=N.value.installMode?n.chooseStep[v.value].children[N.value.installMode]:n.chooseStep[v.value].parent.offline;else if("OfflineInstall"===v.value){if(!N.value.installPackagePath)return void i.Z.warning("Select the offline installation package to be installed");e=n.chooseStep[v.value].children}else if("OnlineInstall"===v.value){if(!N.value.installPackagePath)return void i.Z.warning("Please download the corresponding installation package");e=n.chooseStep[v.value].children}else e=n.chooseStep[v.value].children;l.value=e.comp,v.value=e.name}},N=(0,t.computed)((()=>a.getInstallConfig));return(e,a)=>{const n=(0,t.resolveComponent)("a-button");return(0,t.openBlock)(),(0,t.createElementBlock)("div",r,[(0,t.createElementVNode)("div",u,[(0,t.createVNode)(t.Transition,{appear:"","enter-active-class":"install-enter-active animate__animated "+p.value,"leave-active-class":"install-leave-active animate__animated "+d.value,"leave-to-class":"transition-display"},{default:(0,t.withCtx)((()=>[((0,t.openBlock)(),(0,t.createBlock)((0,t.resolveDynamicComponent)(l.value),{key:v.value,ref:(e,a)=>{a["stepComp"]=e,g.value=e}},null,512))])),_:1},8,["enter-active-class","leave-active-class"])]),(0,t.createElementVNode)("div",c,[m.value?((0,t.openBlock)(),(0,t.createBlock)(n,{key:0,size:"large",loading:f.value,class:"mr-lg",onClick:S},{default:(0,t.withCtx)((()=>[(0,t.createTextVNode)((0,t.toDisplayString)(e.$t("install.Install.5mpn60ejqkg0")),1)])),_:1},8,["loading"])):(0,t.createCommentVNode)("",!0),h.value?((0,t.openBlock)(),(0,t.createBlock)(n,{key:1,size:"large",loading:f.value,type:"primary",onClick:B},{default:(0,t.withCtx)((()=>[(0,t.createTextVNode)((0,t.toDisplayString)(e.$t("install.Install.5mpn60ejriw0")),1)])),_:1},8,["loading"])):(0,t.createCommentVNode)("",!0)])])}}}),p=l(83744);const d=(0,p.Z)(v,[["__scopeId","data-v-7beafada"]]);var f=d}}]);
//# sourceMappingURL=4092.524e25eb.js.map