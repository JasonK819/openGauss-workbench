"use strict";(self["webpackChunkweb_ui"]=self["webpackChunkweb_ui"]||[]).push([[1199],{39518:function(t,e,n){n.d(e,{$4:function(){return B},Ac:function(){return c},BL:function(){return k},C4:function(){return T},DF:function(){return E},GD:function(){return P},IW:function(){return U},K4:function(){return _},Kf:function(){return z},LR:function(){return a},Lf:function(){return s},Ox:function(){return D},PK:function(){return u},R1:function(){return R},Sv:function(){return S},T2:function(){return f},T4:function(){return $},TL:function(){return w},TY:function(){return j},Uw:function(){return V},We:function(){return F},YQ:function(){return L},Ye:function(){return g},ZA:function(){return O},_V:function(){return m},c0:function(){return l},gi:function(){return N},h:function(){return y},jQ:function(){return Z},jV:function(){return A},nT:function(){return h},sT:function(){return C},tA:function(){return i},ur:function(){return v},w3:function(){return d},xj:function(){return p},y6:function(){return I},zs:function(){return x},zx:function(){return b}});var o=n(9669),r=n.n(o);const s=()=>r().get("encryption/getKey"),a=t=>r().post("opsCluster/download",t||{}),l=t=>r().get(`opsCluster/env/${t}`),c=t=>r().post("opsCluster/install",t),i=t=>r().post("opsCluster/import",t),u=t=>r().post("opsCluster/quickInstall",t),p=t=>r().get("opsCluster/check",{params:t}),d=t=>r().post("opsCluster/uninstall",t),f=t=>r().get("opsCluster/hasName",{params:t}),m=()=>r().get("opsCluster/listCluster"),g=t=>r().post("opsCluster/ssh",t),h=t=>r().get("opsCluster/monitor",{params:t}),k=t=>r().post("opsCluster/start",t),C=t=>r().post("opsCluster/stop",t),v=t=>r().post("opsCluster/restart",t),w=t=>r().get("opsCluster/listHost",{params:t}),y=t=>r().get(t?`opsCluster/listInstallPackage?path=${t}`:"opsCluster/listInstallPackage"),b=()=>r().get("host/listAll"),L=t=>r().get(`hostUser/listAllWithoutRoot/${t}`),B=()=>r().get("az/listAll"),E=t=>r().get("opsCluster/logPath",{params:t}),N=t=>r().get("opsCluster/ls",{params:t}),V=t=>r().get("opsCluster/slowSql",{params:t}),P=t=>r().get("opsCluster/auditLog",{params:t}),S=t=>r().get("opsCluster/download",{params:t}),I=t=>r().get("wdr/list",{params:t}),R=t=>r().post("wdr/generate",t),x=t=>r()["delete"]("wdr/del/"+t),D=t=>r().get("wdr/createSnapshot",{params:t}),_=t=>r().get("wdr/downloadWdr",{params:t}),T=t=>r().get("wdr/listSnapshot",{params:t}),U=t=>r().post("backup/backup",t),$=t=>r().get("backup/page",{params:t}),z=(t,e)=>r().post("backup/recover/"+t,e),A=t=>r()["delete"]("backup/del/"+t),F=t=>r().get("installPackageManager/page",{params:t}),j=t=>r()["delete"]("installPackageManager/"+t),O=t=>r().post("installPackageManager/save",t),Z=(t,e)=>r().put(`installPackageManager/update/${t}`,e)},83744:function(t,e){e.Z=(t,e)=>{const n=t.__vccOpts||t;for(const[o,r]of e)n[o]=r;return n}},11199:function(t,e,n){n.r(e),n.d(e,{default:function(){return v}});var o=n(70821),r=n(39518),s=n(15784);const a={class:"file-log-c"},l={key:0},c={class:"flex-row mb"},i=["onClick"],u={class:"mr"},p={key:1,class:"flex-row"},d={class:"mr"},f={class:"mr"},m={key:1,class:"empty-c"},g={class:"tip-content"};var h=(0,o.defineComponent)({props:{rootPath:String,hostId:String},setup(t){const e=t,n=(0,o.reactive)({path:"",fileList:[],loading:!1});(0,o.watch)((()=>e.rootPath),(t=>{t&&h()}));const h=()=>{e.rootPath&&(n.path=e.rootPath,C(e.rootPath))},k=t=>{n.path=n.path+"/"+t.name,C(n.path)},C=t=>{n.loading=!0;const o={hostId:e.hostId,path:t};(0,r.gi)(o).then((t=>{200===Number(t.code)?n.fileList=t.data:s.Z.error("Failed to obtain the path of the system log file")})).catch((()=>{s.Z.error("Failed to obtain the path of the system log file")})).finally((()=>{n.loading=!1}))},v=t=>{n.loading=!0;const o={hostId:e.hostId,path:n.path,filename:t.name};(0,r.Sv)(o).then((e=>{if(e){const n=new Blob([e],{type:"text/plain"}),o=document.createElement("a"),r=window.URL||window.webkitURL,s=r.createObjectURL(n);o.href=s,o.download=t.name,document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(s)}})).finally((()=>{n.loading=!1}))};return(t,e)=>{const r=(0,o.resolveComponent)("icon-folder"),s=(0,o.resolveComponent)("icon-file"),h=(0,o.resolveComponent)("icon-download"),C=(0,o.resolveComponent)("svg-icon"),w=(0,o.resolveComponent)("a-spin");return(0,o.openBlock)(),(0,o.createElementBlock)("div",a,[(0,o.createVNode)(w,{class:"flex-col-start",loading:(0,o.unref)(n).loading,tip:t.$t("components.FileLog.5mplk6504fg0")},{default:(0,o.withCtx)((()=>[(0,o.unref)(n).fileList.length?((0,o.openBlock)(),(0,o.createElementBlock)("div",l,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(n).fileList,((t,e)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:e},[(0,o.createElementVNode)("div",c,["DIRECTORY"===t.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:"folder-c flex-row",onClick:e=>k(t)},[(0,o.createVNode)(r,{class:"mr"}),(0,o.createElementVNode)("div",u,(0,o.toDisplayString)(t.name),1),(0,o.createElementVNode)("div",null,(0,o.toDisplayString)(t.size),1)],8,i)):((0,o.openBlock)(),(0,o.createElementBlock)("div",p,[(0,o.createVNode)(s,{class:"mr"}),(0,o.createElementVNode)("div",d,(0,o.toDisplayString)(t.name),1),(0,o.createElementVNode)("div",f,(0,o.toDisplayString)(t.size),1),(0,o.createVNode)(h,{style:{cursor:"pointer"},onClick:e=>v(t)},null,8,["onClick"])]))])])))),128))])):(0,o.createCommentVNode)("",!0),0!==(0,o.unref)(n).fileList.length||(0,o.unref)(n).loading?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",m,[(0,o.createVNode)(C,{"icon-class":"ops-empty",class:"icon-size mb"}),(0,o.createElementVNode)("div",g,(0,o.toDisplayString)(t.$t("components.FileLog.5mplk65055s0")),1)]))])),_:1},8,["loading","tip"])])}}}),k=n(83744);const C=(0,k.Z)(h,[["__scopeId","data-v-143c34f4"]]);var v=C}}]);
//# sourceMappingURL=1199.d04d21ca.js.map