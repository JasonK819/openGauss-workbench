{"version":3,"file":"js/3238.23e44bd4.js","mappings":"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","sources":["webpack://web-ui/./src/api/ops/index.ts","webpack://web-ui/./src/views/monitor/wdr/GenerateWdrDlg.vue?65c4","webpack://web-ui/./src/views/monitor/wdr/GenerateWdrDlg.vue"],"sourcesContent":["import axios from 'axios'\nimport { KeyValue } from '@/types/global'\nimport { downloadPackage, SSHBody } from '@/types/ops/install'\n// import { hostData, hostUserData } from '@/types/resource/host'\n\n// get Key\nexport const getEntryKey = () => {\n  return axios.get('encryption/getKey')\n}\n\nexport const download = (data: downloadPackage) => {\n  return axios.post(`opsCluster/download`, data ? data : {})\n}\n\nexport const getEnvMonitorData = (hostId: string) => {\n  return axios.get(`opsCluster/env/${hostId}`)\n}\n\nexport const installOpenGauss = (data: KeyValue) => {\n  return axios.post('opsCluster/install', data)\n}\n\nexport const importOpenGauss = (data: KeyValue) => {\n  return axios.post('opsCluster/import', data)\n}\n\nexport const quickInstall = (data: KeyValue) => {\n  return axios.post('opsCluster/quickInstall', data)\n}\n\n// one check\nexport const clusterCheck = (data: KeyValue) => {\n  return axios.get('opsCluster/check', {\n    params: data\n  })\n}\n\nexport const uninstallOpenGauss = (data: KeyValue) => {\n  return axios.post('opsCluster/uninstall', data)\n}\n\nexport const hasName = (data: KeyValue) => {\n  return axios.get('opsCluster/hasName', {\n    params: data\n  })\n}\n\nexport const clusterList = () => {\n  return axios.get('opsCluster/listCluster')\n}\n\nexport const getSummary = () => {\n  return axios.get('opsCluster/summary')\n}\n\nexport const openSSH = (data: SSHBody) => {\n  return axios.post('opsCluster/ssh', data)\n}\n\nexport const clusterMonitor = (data: KeyValue) => {\n  return axios.get('opsCluster/monitor', {\n    params: data\n  })\n}\n\nexport const start = (data: KeyValue) => {\n  return axios.post('opsCluster/start', data)\n}\n\nexport const stop = (data: KeyValue) => {\n  return axios.post('opsCluster/stop', data)\n}\n\nexport const restart = (data: KeyValue) => {\n  return axios.post('opsCluster/restart', data)\n}\n\nexport const getHostByClusterId = (data: KeyValue) => {\n  return axios.get('opsCluster/listHost', {\n    params: data\n  })\n}\n\n// host interface\nexport const listInstallPackage = (path?: string) => {\n  return axios.get(path ? `opsCluster/listInstallPackage?path=${path}` : 'opsCluster/listInstallPackage')\n}\n\n// page\nexport const hostPage = (query: any) => {\n  return axios.get('host/page', {\n    params: query\n  })\n}\n\nexport const hostListAll = () => {\n  return axios.get('host/listAll')\n}\n\nexport const addHost = (data: KeyValue) => {\n  return axios.post('host', data)\n}\n\nexport const editHost = (hostId: string, data: KeyValue) => {\n  return axios.put(`host/${hostId}`, data)\n}\n\nexport const hostPing = (data: KeyValue) => {\n  return axios.post('host/ping', data)\n}\n\nexport const hostPingById = (hostId: string) => {\n  return axios.get(`host/ping/${hostId}`)\n}\n\nexport const delHost = (hostId: string) => {\n  return axios.delete(`host/${hostId}`)\n}\n\nexport const hostUserPage = (hostId: string) => {\n  return axios.get(`hostUser/page/${hostId}`)\n}\n\nexport const hostUserListAll = (hostId: string) => {\n  return axios.get(`hostUser/listAll/${hostId}`)\n}\n\nexport const hostUserListWithoutRoot = (hostId: string) => {\n  return axios.get(`hostUser/listAllWithoutRoot/${hostId}`)\n}\n\nexport const addHostUser = (data: KeyValue) => {\n  return axios.post('hostUser', data)\n}\n\nexport const editHostUser = (hostUserId: string, data: KeyValue) => {\n  return axios.put(`hostUser/${hostUserId}`, data)\n}\n\nexport const delHostUser = (hostUserId: string) => {\n  return axios.delete(`hostUser/${hostUserId}`)\n}\n\nexport const azListAll = () => {\n  return axios.get('az/listAll')\n}\n\nexport const addAz = (data: KeyValue) => {\n  return axios.post('az', data)\n}\n\nexport const editAz = (azId: string, data: KeyValue) => {\n  return axios.put(`az/${azId}`, data)\n}\n\n// page\nexport const azPage = (query: any) => {\n  return axios.get('az/page', {\n    params: query\n  })\n}\n\nexport const delAz = (azId: string) => {\n  return axios.delete(`az/${azId}`)\n}\n\nexport const logPath = (data: KeyValue) => {\n  return axios.get('opsCluster/logPath', {\n    params: data\n  })\n}\n\nexport const getLs = (data: KeyValue) => {\n  return axios.get('opsCluster/ls', {\n    params: data\n  })\n}\n\nexport const slowSql = (data: KeyValue) => {\n  return axios.get('opsCluster/slowSql', {\n    params: data\n  })\n}\n\nexport const auditLog = (data: KeyValue) => {\n  return axios.get('opsCluster/auditLog', {\n    params: data\n  })\n}\n\nexport const downloadFile = (data: KeyValue) => {\n  return axios.get('opsCluster/download', {\n    params: data\n  })\n}\n\n// WDR\nexport const wdrList = (data: KeyValue) => {\n  return axios.get('wdr/list', {\n    params: data\n  })\n}\nexport const wdrGenerate = (data: KeyValue) => {\n  return axios.post('wdr/generate', data)\n}\n\nexport const wdrDelete = (id: string) => {\n  return axios.delete('wdr/del/' + id)\n}\n\nexport const createSnapshot = (data: KeyValue) => {\n  return axios.get('wdr/createSnapshot', {\n    params: data\n  })\n}\n\nexport const downloadWdrFile = (data: KeyValue) => {\n  return axios.get('wdr/downloadWdr', {\n    params: data\n  })\n}\n\nexport const listSnapshot = (data: KeyValue) => {\n  return axios.get('wdr/listSnapshot', {\n    params: data\n  })\n}\n\n// backup\nexport const clusterBackup = (data: KeyValue) => {\n  return axios.post('backup/backup', data)\n}\n// backup page\nexport const backupPage = (data: KeyValue) => {\n  return axios.get('backup/page', {\n    params: data\n  })\n}\n// backup recover\nexport const clusterRecover = (id: string, data: KeyValue) => {\n  return axios.post('backup/recover/' + id, data)\n}\n// backup delete\nexport const backupDel = (id: string) => {\n  return axios.delete('backup/del/' + id)\n}\n\n// package manage \nexport const packageListAll = (data: KeyValue) => {\n  return axios.get('installPackageManager/list', {\n    params: data\n  })\n}\n\nexport const packagePage = (data: KeyValue) => {\n  return axios.get('installPackageManager/page', {\n    params: data\n  })\n}\n\nexport const packageDetailById = (id: string) => {\n  return axios.get('installPackageManager/detail/' + id)\n}\n\nexport const packageDel = (id: string) => {\n  return axios.delete('installPackageManager/' + id)\n}\n\nexport const addPackage = (data: KeyValue) => {\n  return axios.post('installPackageManager/save', data)\n}\n\nexport const editPackage = (azId: string, data: KeyValue) => {\n  return axios.put(`installPackageManager/update/${azId}`, data)\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, withCtx as _withCtx, createVNode as _createVNode } from \"vue\"\n\nimport { nextTick, reactive, ref } from 'vue'\nimport { KeyValue } from '@/types/global'\nimport { FormInstance } from '@arco-design/web-vue/es/form'\nimport { clusterList, getHostByClusterId, wdrGenerate, listSnapshot } from '@/api/ops'\nimport { Message } from '@arco-design/web-vue'\nimport { useI18n } from 'vue-i18n'\n\nexport default /*#__PURE__*/_defineComponent({\n  emits: [`finish`],\n  setup(__props, { expose, emit: emits }) {\n\n\nconst { t } = useI18n()\nconst data: {\n  show: boolean,\n  title: string,\n  loading: boolean,\n  formData: KeyValue,\n  clusterListLoading: boolean,\n  clusterList: KeyValue[],\n  hostListLoading: boolean,\n  hostList: KeyValue[],\n  wdrScopeList: KeyValue[],\n  wdrTypeList: KeyValue[],\n  getSnapshotLoading: boolean,\n  snapshotList: KeyValue[],\n  rules: KeyValue\n} = reactive({\n  show: false,\n  title: t('wdr.GenerateWdrDlg.5mpm0eufzrs0'),\n  loading: false,\n  formData: {\n    clusterId: '',\n    hostId: '',\n    scope: 'CLUSTER',\n    type: 'DETAIL',\n    startId: '',\n    endId: ''\n  },\n  clusterListLoading: false,\n  clusterList: [],\n  hostListLoading: false,\n  hostList: [],\n  wdrScopeList: [],\n  getSnapshotLoading: false,\n  snapshotList: [],\n  wdrTypeList: [],\n  rules: {\n    clusterId: [{ required: true, 'validate-trigger': 'blur', message: t('wdr.GenerateWdrDlg.5mpm0eufy340') }]\n  }\n})\n\nconst close = () => {\n  data.show = false\n  nextTick(() => {\n    formRef.value?.clearValidate()\n    formRef.value?.resetFields()\n    data.clusterList = []\n  })\n}\n\n\n\nconst formRef = ref<null | FormInstance>(null)\nconst handleOk = () => {\n  formRef.value?.validate().then(result => {\n    if (!result) {\n      data.loading = true\n      wdrGenerate(data.formData).then((res: KeyValue) => {\n        if (Number(res.code) === 200) {\n          emits(`finish`)\n          close()\n        } else {\n          Message.error('Error generating WDR report, cause of error: ' + res.msg)\n        }\n      }).catch(() => {\n        Message.error('Error generating WDR report')\n      }).finally(() => {\n        data.loading = false\n      })\n    }\n  })\n\n}\n\nconst getClusterList = () => new Promise(resolve => {\n  data.clusterListLoading = true\n  clusterList().then((res: KeyValue) => {\n    if (Number(res.code) === 200) {\n      resolve(true)\n      res.data.forEach((item: KeyValue) => {\n        data.clusterList.push({\n          label: item.clusterId,\n          value: item.clusterId\n        })\n      })\n      data.formData.clusterId = data.clusterList[0].value\n      getHostList()\n    } else resolve(false)\n  }).finally(() => {\n    data.clusterListLoading = false\n  })\n})\n\nconst getHostList = () => {\n  if (data.formData.clusterId) {\n    const param = {\n      clusterId: data.formData.clusterId\n    }\n    data.hostListLoading = true\n    getHostByClusterId(param).then((res: KeyValue) => {\n      if (Number(res.code) === 200) {\n        data.hostList = []\n        res.data.forEach((item: KeyValue) => {\n          data.hostList.push({\n            label: `${item.privateIp}(${item.hostname})`,\n            value: item.hostId\n          })\n        })\n        data.formData.hostId = data.hostList[0].value\n        getSnapshotList()\n      } else {\n        Message.error('Failed to obtain host user information')\n      }\n    }).finally(() => {\n      data.hostListLoading = false\n    })\n  }\n}\n\nconst getSnapshotList = () => {\n  if (data.formData.clusterId && data.formData.hostId) {\n    const param = {\n      clusterId: data.formData.clusterId,\n      hostId: data.formData.hostId\n    }\n    data.getSnapshotLoading = true\n    listSnapshot(param).then((res: KeyValue) => {\n      if (Number(res.code) === 200) {\n        data.snapshotList = []\n        res.data.forEach((item: KeyValue) => {\n          data.snapshotList.push({\n            label: item.snapshot_id,\n            value: item.snapshot_id\n          })\n        })\n        data.formData.startId = data.snapshotList[0].value\n        data.formData.endId = data.snapshotList[data.snapshotList.length - 1].value\n      } else {\n        Message.error('Failed to obtain host information')\n      }\n    }).finally(() => {\n      data.getSnapshotLoading = false\n    })\n  }\n}\n\nconst open = () => {\n  data.show = true\n  data.title = t('wdr.GenerateWdrDlg.5mpm0eufzrs0')\n  data.wdrScopeList = [\n    { label: t('wdr.GenerateWdrDlg.5mpm0eufzv40'), value: 'CLUSTER' },\n    { label: t('wdr.GenerateWdrDlg.5mpm0eufzyg0'), value: 'NODE' }\n  ]\n  data.wdrTypeList = [\n    { label: t('wdr.GenerateWdrDlg.5mpm0eug0300'), value: 'DETAIL' },\n    { label: t('wdr.GenerateWdrDlg.5mpm0eug0880'), value: 'SUMMARY' },\n    { label: t('wdr.GenerateWdrDlg.5mpm0eug0bc0'), value: 'ALL' }\n  ]\n  getClusterList()\n}\n\nexpose({\n  open\n})\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_a_option = _resolveComponent(\"a-option\")!\n  const _component_a_select = _resolveComponent(\"a-select\")!\n  const _component_a_form_item = _resolveComponent(\"a-form-item\")!\n  const _component_a_form = _resolveComponent(\"a-form\")!\n  const _component_a_modal = _resolveComponent(\"a-modal\")!\n\n  return (_openBlock(), _createBlock(_component_a_modal, {\n    \"mask-closable\": false,\n    \"esc-to-close\": false,\n    visible: _unref(data).show,\n    title: _unref(data).title,\n    \"ok-loading\": _unref(data).loading,\n    \"modal-style\": { width: '450px' },\n    onOk: handleOk,\n    onCancel: close,\n    okText: _ctx.$t('wdr.GenerateWdrDlg.5mpm0eufx3g0')\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_component_a_form, {\n        model: _unref(data).formData,\n        ref: (_value, _refs) => {\n          _refs['formRef'] = _value\n          formRef.value = _value\n        },\n        \"label-col\": { style: { width: '100px' } },\n        rules: _unref(data).rules\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_a_form_item, {\n            field: \"clusterId\",\n            label: _ctx.$t('wdr.GenerateWdrDlg.5mpm0eufxww0'),\n            \"validate-trigger\": \"change\",\n            rules: [{ required: true, message: _unref(t)('wdr.GenerateWdrDlg.5mpm0eufy340') }]\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_a_select, {\n                modelValue: _unref(data).formData.clusterId,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => (_unref(data).formData.clusterId = $event)),\n                placeholder: _ctx.$t('wdr.GenerateWdrDlg.5mpm0eufy340'),\n                onChange: getHostList\n              }, {\n                default: _withCtx(() => [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(data).clusterList, (item, index) => {\n                    return (_openBlock(), _createBlock(_component_a_option, {\n                      key: index,\n                      value: item.value,\n                      label: item.label\n                    }, null, 8, [\"value\", \"label\"]))\n                  }), 128))\n                ]),\n                _: 1\n              }, 8, [\"modelValue\", \"placeholder\"])\n            ]),\n            _: 1\n          }, 8, [\"label\", \"rules\"]),\n          _createVNode(_component_a_form_item, {\n            field: \"hostId\",\n            label: _ctx.$t('wdr.GenerateWdrDlg.5mpm0eufy7k0'),\n            \"validate-trigger\": \"change\",\n            rules: [{ required: true, message: _unref(t)('wdr.GenerateWdrDlg.5mpm0eufyb40') }]\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_a_select, {\n                modelValue: _unref(data).formData.hostId,\n                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => (_unref(data).formData.hostId = $event)),\n                placeholder: _ctx.$t('wdr.GenerateWdrDlg.5mpm0eufyb40'),\n                onChange: getSnapshotList\n              }, {\n                default: _withCtx(() => [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(data).hostList, (item, index) => {\n                    return (_openBlock(), _createBlock(_component_a_option, {\n                      key: index,\n                      value: item.value,\n                      label: item.label\n                    }, null, 8, [\"value\", \"label\"]))\n                  }), 128))\n                ]),\n                _: 1\n              }, 8, [\"modelValue\", \"placeholder\"])\n            ]),\n            _: 1\n          }, 8, [\"label\", \"rules\"]),\n          _createVNode(_component_a_form_item, {\n            field: \"scope\",\n            label: _ctx.$t('wdr.GenerateWdrDlg.5mpm0eufyew0'),\n            \"validate-trigger\": \"change\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_a_select, {\n                modelValue: _unref(data).formData.scope,\n                \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => (_unref(data).formData.scope = $event)),\n                placeholder: _ctx.$t('wdr.GenerateWdrDlg.5mpm0eufyig0')\n              }, {\n                default: _withCtx(() => [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(data).wdrScopeList, (item, index) => {\n                    return (_openBlock(), _createBlock(_component_a_option, {\n                      key: index,\n                      value: item.value,\n                      label: item.label\n                    }, null, 8, [\"value\", \"label\"]))\n                  }), 128))\n                ]),\n                _: 1\n              }, 8, [\"modelValue\", \"placeholder\"])\n            ]),\n            _: 1\n          }, 8, [\"label\"]),\n          _createVNode(_component_a_form_item, {\n            field: \"type\",\n            label: _ctx.$t('wdr.GenerateWdrDlg.5mpm0eufyo80'),\n            \"validate-trigger\": \"change\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_a_select, {\n                modelValue: _unref(data).formData.type,\n                \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => (_unref(data).formData.type = $event)),\n                placeholder: _ctx.$t('wdr.GenerateWdrDlg.5mpm0eufyz00')\n              }, {\n                default: _withCtx(() => [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(data).wdrTypeList, (item, index) => {\n                    return (_openBlock(), _createBlock(_component_a_option, {\n                      key: index,\n                      value: item.value,\n                      label: item.label\n                    }, null, 8, [\"value\", \"label\"]))\n                  }), 128))\n                ]),\n                _: 1\n              }, 8, [\"modelValue\", \"placeholder\"])\n            ]),\n            _: 1\n          }, 8, [\"label\"]),\n          _createVNode(_component_a_form_item, {\n            field: \"startId\",\n            label: _ctx.$t('wdr.GenerateWdrDlg.5mpm0eufzbk0'),\n            \"validate-trigger\": \"change\",\n            rules: [{ required: true, message: _unref(t)('wdr.GenerateWdrDlg.5mpm0eufzg00') }]\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_a_select, {\n                loading: _unref(data).getSnapshotLoading,\n                modelValue: _unref(data).formData.startId,\n                \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => (_unref(data).formData.startId = $event)),\n                placeholder: _ctx.$t('wdr.GenerateWdrDlg.5mpm0eufzg00')\n              }, {\n                default: _withCtx(() => [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(data).snapshotList, (item, index) => {\n                    return (_openBlock(), _createBlock(_component_a_option, {\n                      key: index,\n                      value: item.value,\n                      label: item.label\n                    }, null, 8, [\"value\", \"label\"]))\n                  }), 128))\n                ]),\n                _: 1\n              }, 8, [\"loading\", \"modelValue\", \"placeholder\"])\n            ]),\n            _: 1\n          }, 8, [\"label\", \"rules\"]),\n          _createVNode(_component_a_form_item, {\n            field: \"endId\",\n            label: _ctx.$t('wdr.GenerateWdrDlg.5mpm0eufzk80'),\n            \"validate-trigger\": \"change\",\n            rules: [{ required: true, message: _unref(t)('wdr.GenerateWdrDlg.5mpm0eufzo40') }]\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_a_select, {\n                loading: _unref(data).getSnapshotLoading,\n                modelValue: _unref(data).formData.endId,\n                \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => (_unref(data).formData.endId = $event)),\n                placeholder: _ctx.$t('wdr.GenerateWdrDlg.5mpm0eufzo40')\n              }, {\n                default: _withCtx(() => [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(data).snapshotList, (item, index) => {\n                    return (_openBlock(), _createBlock(_component_a_option, {\n                      key: index,\n                      value: item.value,\n                      label: item.label\n                    }, null, 8, [\"value\", \"label\"]))\n                  }), 128))\n                ]),\n                _: 1\n              }, 8, [\"loading\", \"modelValue\", \"placeholder\"])\n            ]),\n            _: 1\n          }, 8, [\"label\", \"rules\"])\n        ]),\n        _: 1\n      }, 8, [\"model\", \"rules\"])\n    ]),\n    _: 1\n  }, 8, [\"visible\", \"title\", \"ok-loading\", \"okText\"]))\n}\n}\n\n})","import script from \"./GenerateWdrDlg.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./GenerateWdrDlg.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["getEntryKey","axios","download","data","getEnvMonitorData","hostId","installOpenGauss","importOpenGauss","quickInstall","clusterCheck","params","uninstallOpenGauss","hasName","clusterList","openSSH","clusterMonitor","start","stop","restart","getHostByClusterId","listInstallPackage","path","hostListAll","hostUserListWithoutRoot","azListAll","logPath","getLs","slowSql","auditLog","downloadFile","wdrList","wdrGenerate","wdrDelete","id","createSnapshot","downloadWdrFile","listSnapshot","clusterBackup","backupPage","clusterRecover","backupDel","packagePage","packageDel","addPackage","editPackage","azId","_defineComponent","emits","setup","__props","expose","emit","t","useI18n","reactive","show","title","loading","formData","clusterId","scope","type","startId","endId","clusterListLoading","hostListLoading","hostList","wdrScopeList","getSnapshotLoading","snapshotList","wdrTypeList","rules","required","message","close","nextTick","formRef","value","clearValidate","resetFields","ref","handleOk","validate","then","result","res","Number","code","Message","msg","catch","finally","getClusterList","Promise","resolve","forEach","item","push","label","getHostList","param","privateIp","hostname","getSnapshotList","snapshot_id","length","open","_ctx","_cache","_component_a_option","_resolveComponent","_component_a_select","_component_a_form_item","_component_a_form","_component_a_modal","_openBlock","_createBlock","visible","_unref","width","onOk","onCancel","okText","$t","default","_withCtx","_createVNode","model","_value","_refs","style","field","modelValue","$event","placeholder","onChange","_createElementBlock","_Fragment","_renderList","index","key","_","__exports__"],"sourceRoot":""}