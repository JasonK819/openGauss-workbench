{"version":3,"file":"js/4092.524e25eb.js","mappings":"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","sources":["webpack://web-ui/./src/views/ops/install/Install.vue?eb93","webpack://web-ui/./src/views/ops/install/Install.vue"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, Transition as _Transition, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-7beafada\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"install\" }\nconst _hoisted_2 = { class: \"install-body\" }\nconst _hoisted_3 = { class: \"install-footer\" }\n\nimport 'animate.css'\nimport { firstStep, chooseStep } from './components/installConfig'\nimport { ref, computed, provide, onMounted, onBeforeUnmount } from 'vue'\nimport { useOpsStore } from '@/store'\nimport InstallStep from './components/InstallStep.vue'\nimport { Message } from '@arco-design/web-vue'\nimport { OpenGaussVersionEnum } from '@/types/ops/install'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n\nconst installStore = useOpsStore()\nconst currComp = ref(firstStep)\nconst currCompName = ref<string>('ChooseVersion')\nconst enterTransition = ref('animate__fadeInRight')\nconst leaveTransition = ref('animate__fadeOutLeft')\n\nconst loading = ref(false)\n\nconst backBtnShow = ref(true)\n\nconst nextBtnShow = ref(true)\n\nconst stepComp = ref<InstanceType<typeof InstallStep> | null>(null)\n\nconst toLoading = () => {\n  loading.value = true\n}\n\nconst cancelLoading = () => {\n  loading.value = false\n}\n\nconst setBackBtnShow = (val: boolean) => {\n  backBtnShow.value = val\n}\n\nconst setNextBtnShow = (val: boolean) => {\n  nextBtnShow.value = val\n}\n\nprovide('loading', {\n  toLoading,\n  cancelLoading,\n  setBackBtnShow,\n  setNextBtnShow\n})\n\nonMounted(() => {\n  installStore.resetInstall()\n})\n\nonBeforeUnmount(() => {\n  installStore.resetInstall()\n})\n\nconst handleBack = () => {\n  enterTransition.value = 'animate__fadeInLeft'\n  leaveTransition.value = 'animate__fadeOutRightBig'\n  let nextComp\n  if (currCompName.value === 'InstallStep') {\n    if (stepComp.value?.currStep === 1) {\n      if (installStore.getInstallConfig.installType === 'import' || installStore.getInstallConfig.openGaussVersion === OpenGaussVersionEnum.OPENlOOKENG) {\n        // import\n        nextComp = chooseStep[currCompName.value].parentImport\n      } else {\n        if (installWayStore.value.installMode) {\n          nextComp = chooseStep[currCompName.value].parent[installWayStore.value.installMode]\n        } else {\n          nextComp = chooseStep[currCompName.value].parent.offline\n        }\n      }\n      currComp.value = nextComp.comp\n      currCompName.value = nextComp.name\n    } else {\n      stepComp.value?.onPrev()\n    }\n  } else {\n    nextComp = chooseStep[currCompName.value].parent\n    currComp.value = nextComp.comp\n    currCompName.value = nextComp.name\n  }\n}\nconst handleNext = () => {\n\n  changeTransition()\n  getNextComp()\n\n}\n\nconst changeTransition = () => {\n  enterTransition.value = 'animate__fadeInRight'\n  leaveTransition.value = 'animate__fadeOutLeft'\n}\n\nconst getNextComp = () => {\n  if (currCompName.value === 'ChooseVersion' && installStore.getInstallConfig.openGaussVersion === OpenGaussVersionEnum.OPENlOOKENG) {\n    const nextComp = chooseStep[currCompName.value].childrenImport\n    currComp.value = nextComp.comp\n    currCompName.value = nextComp.name\n    return\n  }\n  if (currCompName.value === 'InstallStep') {\n    stepComp.value?.onNext()\n  } else if (currCompName.value === 'ChooseVersion' && installStore.getInstallConfig.installType === 'import') {\n    // import\n    const nextComp = chooseStep[currCompName.value].childrenImport\n    currComp.value = nextComp.comp\n    currCompName.value = nextComp.name\n  } else {\n    let nextComp\n    if (currCompName.value === 'ChooseInstallWay') {\n      if (installWayStore.value.installMode) {\n        nextComp = chooseStep[currCompName.value].children[installWayStore.value.installMode]\n      } else {\n        nextComp = chooseStep[currCompName.value].parent.offline\n      }\n    } else if (currCompName.value === 'OfflineInstall') {\n      if (!installWayStore.value.installPackagePath) {\n        Message.warning('Select the offline installation package to be installed')\n        return\n      } else {\n        nextComp = chooseStep[currCompName.value].children\n      }\n    } else if (currCompName.value === 'OnlineInstall') {\n      if (!installWayStore.value.installPackagePath) {\n        Message.warning('Please download the corresponding installation package')\n        return\n      } else {\n        nextComp = chooseStep[currCompName.value].children\n      }\n    } else {\n      nextComp = chooseStep[currCompName.value].children\n    }\n    currComp.value = nextComp.comp\n    currCompName.value = nextComp.name\n  }\n}\n\nconst installWayStore = computed(() => installStore.getInstallConfig)\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_a_button = _resolveComponent(\"a-button\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(_Transition, {\n        appear: \"\",\n        \"enter-active-class\": 'install-enter-active animate__animated ' + enterTransition.value,\n        \"leave-active-class\": 'install-leave-active animate__animated ' + leaveTransition.value,\n        \"leave-to-class\": \"transition-display\"\n      }, {\n        default: _withCtx(() => [\n          (_openBlock(), _createBlock(_resolveDynamicComponent(currComp.value), {\n            key: currCompName.value,\n            ref: (_value, _refs) => {\n              _refs['stepComp'] = _value\n              stepComp.value = _value\n            }\n          }, null, 512))\n        ]),\n        _: 1\n      }, 8, [\"enter-active-class\", \"leave-active-class\"])\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      (backBtnShow.value)\n        ? (_openBlock(), _createBlock(_component_a_button, {\n            key: 0,\n            size: \"large\",\n            loading: loading.value,\n            class: \"mr-lg\",\n            onClick: handleBack\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(_ctx.$t('install.Install.5mpn60ejqkg0')), 1)\n            ]),\n            _: 1\n          }, 8, [\"loading\"]))\n        : _createCommentVNode(\"\", true),\n      (nextBtnShow.value)\n        ? (_openBlock(), _createBlock(_component_a_button, {\n            key: 1,\n            size: \"large\",\n            loading: loading.value,\n            type: \"primary\",\n            onClick: handleNext\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(_ctx.$t('install.Install.5mpn60ejriw0')), 1)\n            ]),\n            _: 1\n          }, 8, [\"loading\"]))\n        : _createCommentVNode(\"\", true)\n    ])\n  ]))\n}\n}\n\n})","import script from \"./Install.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Install.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Install.vue?vue&type=style&index=0&id=7beafada&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/xielibo/ideawork/huawei/base-ops/web-ui/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7beafada\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_defineComponent","setup","__props","installStore","useOpsStore","currComp","ref","firstStep","currCompName","enterTransition","leaveTransition","loading","backBtnShow","nextBtnShow","stepComp","toLoading","value","cancelLoading","setBackBtnShow","val","setNextBtnShow","provide","onMounted","resetInstall","onBeforeUnmount","handleBack","nextComp","currStep","getInstallConfig","installType","openGaussVersion","OpenGaussVersionEnum","chooseStep","parentImport","installWayStore","installMode","parent","offline","comp","name","onPrev","handleNext","changeTransition","getNextComp","childrenImport","onNext","children","installPackagePath","Message","computed","_ctx","_cache","_component_a_button","_resolveComponent","_openBlock","_createElementBlock","_createElementVNode","_createVNode","_Transition","appear","default","_withCtx","_createBlock","_resolveDynamicComponent","key","_value","_refs","_","size","onClick","_createTextVNode","_toDisplayString","$t","_createCommentVNode","type","__exports__"],"sourceRoot":""}