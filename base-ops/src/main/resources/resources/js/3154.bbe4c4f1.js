"use strict";(self["webpackChunkweb_ui"]=self["webpackChunkweb_ui"]||[]).push([[3154],{8879:function(e,l,t){t.r(l),t.d(l,{default:function(){return C}});t(57658);var r=t(70821),o=t(12320);const a=e=>((0,r.pushScopeId)("data-v-cf99b15c"),e=e(),(0,r.popScopeId)(),e),n={class:"exe-install-c"},d={key:0,class:"flex-col full-w full-h"},s=a((()=>(0,r.createElementVNode)("div",{class:"mb-lg"},"安装成功",-1))),u={class:"flex-row"},c=(0,r.createTextVNode)(" 返回首页 "),i=(0,r.createTextVNode)(" 集群运维 "),f={key:1,class:"flex-col"},m={class:"install-doing mb"},p={class:"ft-m ft-b mb-lg"},V={class:"flex-col-start full-w"},v={class:"progress-c mb"},N=a((()=>(0,r.createElementVNode)("div",{id:"xterm",class:"xterm"},null,-1)));var h;(function(e){e[e["UN_INSTALL"]=Number(-1)]="UN_INSTALL",e[e["SUCESS"]=Number(1)]="SUCESS",e[e["FAIL"]=Number(0)]="FAIL"})(h||(h={}));var b=(0,r.defineComponent)({setup(e){const l=(0,r.ref)(h.UN_INSTALL),t=(0,r.inject)("loading"),a=(0,r.reactive)({state:-1,installProgress:0});(0,r.onMounted)((()=>{t.setBackBtnShow(!1),t.setNextBtnShow(!1);const e=g();C(e),w()}));const b=(0,r.ref)(null),w=()=>{b.value=setInterval((()=>{a.installProgress=(Number(a.installProgress)+.1).toFixed(2),1===Number(a.installProgress)&&(l.value=h.SUCESS,clearInterval(b.value))}),600)},g=()=>new o.Terminal({fontSize:14,rows:28,cols:100,cursorBlink:!0,convertEol:!0,disableStdin:!1,cursorStyle:"underline",theme:{background:"black"}}),C=(e,l)=>{e.open(document.getElementById("xterm")),e.clear(),e.focus(),e.write("\r\n[33m$[0m ")},x=()=>{window.$wujie?.props.methods.jump({name:"Dashboard"})};return(e,t)=>{const o=(0,r.resolveComponent)("svg-icon"),b=(0,r.resolveComponent)("a-button"),w=(0,r.resolveComponent)("a-progress");return(0,r.openBlock)(),(0,r.createElementBlock)("div",n,[l.value===h.SUCESS?((0,r.openBlock)(),(0,r.createElementBlock)("div",d,[(0,r.createVNode)(o,{"icon-class":"ops-install-success",class:"icon-size mb"}),s,(0,r.createElementVNode)("div",u,[(0,r.createVNode)(b,{type:"outline",class:"mr",onClick:x},{default:(0,r.withCtx)((()=>[c])),_:1}),(0,r.createVNode)(b,{type:"primary",onClick:t[0]||(t[0]=l=>e.$router.push({name:"DailyOps"}))},{default:(0,r.withCtx)((()=>[i])),_:1})])])):((0,r.openBlock)(),(0,r.createElementBlock)("div",f,[(0,r.createElementVNode)("div",m,[(0,r.createElementVNode)("div",p,(0,r.toDisplayString)(e.$t("simpleInstall.index.5mpn813guxc0")),1),(0,r.createElementVNode)("div",V,[(0,r.createElementVNode)("div",v,[(0,r.createVNode)(w,{color:1===(0,r.unref)(a).state?"green":"red","stroke-width":12,percent:(0,r.unref)(a).installProgress},null,8,["color","percent"])])])]),N]))])}}}),w=t(83744);const g=(0,w.Z)(b,[["__scopeId","data-v-cf99b15c"]]);var C=g},3595:function(e,l,t){t.r(l),t.d(l,{default:function(){return f}});var r=t(70821);const o=e=>((0,r.pushScopeId)("data-v-06d25102"),e=e(),(0,r.popScopeId)(),e),a={class:"lookeng-config-container"},n={class:"flex-col"},d=o((()=>(0,r.createElementVNode)("div",{class:"ft-b mb"}," ShardingSphere配置 ",-1))),s=o((()=>(0,r.createElementVNode)("div",{class:"ft-b mb"}," lookeng配置 ",-1)));var u=(0,r.defineComponent)({setup(e,{expose:l}){const t=(0,r.reactive)({form:{host:"192.168.0.0",username:"shardUser",password:"password",installPath:"/opt/software/shard",port:"1234",fileList:[],host2:"192.168.0.1",username2:"lookengUser",password2:"password",installPath2:"/opt/software/lookeng",port2:"2345",fileList2:[]},rules:{}}),o=async()=>!0;return l({beforeConfirm:o}),(e,l)=>{const o=(0,r.resolveComponent)("a-input"),u=(0,r.resolveComponent)("a-form-item"),c=(0,r.resolveComponent)("a-input-password"),i=(0,r.resolveComponent)("a-upload"),f=(0,r.resolveComponent)("a-form");return(0,r.openBlock)(),(0,r.createElementBlock)("div",a,[(0,r.createElementVNode)("div",n,[(0,r.createVNode)(f,{model:(0,r.unref)(t).form,rules:(0,r.unref)(t).rules,"auto-label-width":"",style:{width:"850px"},ref:(e,l)=>{l["formRef"]=e}},{default:(0,r.withCtx)((()=>[d,(0,r.createVNode)(u,{field:"host",label:"部署主机IP","validate-trigger":"blur"},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(o,{modelValue:(0,r.unref)(t).form.host,"onUpdate:modelValue":l[0]||(l[0]=e=>(0,r.unref)(t).form.host=e),placeholder:"请输入部署主机IP"},null,8,["modelValue"])])),_:1}),(0,r.createVNode)(u,{field:"username",label:"用户名","validate-trigger":"blur"},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(o,{modelValue:(0,r.unref)(t).form.username,"onUpdate:modelValue":l[1]||(l[1]=e=>(0,r.unref)(t).form.username=e),placeholder:"请输入用户名"},null,8,["modelValue"])])),_:1}),(0,r.createVNode)(u,{field:"password",label:"密码","validate-trigger":"blur"},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(c,{modelValue:(0,r.unref)(t).form.password,"onUpdate:modelValue":l[2]||(l[2]=e=>(0,r.unref)(t).form.password=e),placeholder:"请输入密码","allow-clear":""},null,8,["modelValue"])])),_:1}),(0,r.createVNode)(u,{field:"installPath",label:"安装路径","validate-trigger":"blur"},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(o,{modelValue:(0,r.unref)(t).form.installPath,"onUpdate:modelValue":l[3]||(l[3]=e=>(0,r.unref)(t).form.installPath=e),placeholder:"请输入安装路径"},null,8,["modelValue"])])),_:1}),(0,r.createVNode)(u,{field:"port",label:"绑定端口","validate-trigger":"blur"},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(o,{modelValue:(0,r.unref)(t).form.port,"onUpdate:modelValue":l[4]||(l[4]=e=>(0,r.unref)(t).form.port=e),placeholder:"请输入绑定端口"},null,8,["modelValue"])])),_:1}),(0,r.createVNode)(u,{label:"配置文件","validate-trigger":"blur"},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(i,{"list-type":"picture-card",action:"/","default-file-list":(0,r.unref)(t).form.fileList,limit:1,"image-preview":""},null,8,["default-file-list"])])),_:1}),s,(0,r.createVNode)(u,{field:"host2",label:"部署主机IP","validate-trigger":"blur"},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(o,{modelValue:(0,r.unref)(t).form.host2,"onUpdate:modelValue":l[5]||(l[5]=e=>(0,r.unref)(t).form.host2=e),placeholder:"请输入部署主机IP"},null,8,["modelValue"])])),_:1}),(0,r.createVNode)(u,{field:"username2",label:"用户名","validate-trigger":"blur"},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(o,{modelValue:(0,r.unref)(t).form.username2,"onUpdate:modelValue":l[6]||(l[6]=e=>(0,r.unref)(t).form.username2=e),placeholder:"请输入用户名"},null,8,["modelValue"])])),_:1}),(0,r.createVNode)(u,{field:"password2",label:"密码","validate-trigger":"blur"},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(c,{modelValue:(0,r.unref)(t).form.password2,"onUpdate:modelValue":l[7]||(l[7]=e=>(0,r.unref)(t).form.password2=e),placeholder:"请输入密码","allow-clear":""},null,8,["modelValue"])])),_:1}),(0,r.createVNode)(u,{field:"installPath2",label:"安装路径","validate-trigger":"blur"},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(o,{modelValue:(0,r.unref)(t).form.installPath2,"onUpdate:modelValue":l[8]||(l[8]=e=>(0,r.unref)(t).form.installPath2=e),placeholder:"请输入安装路径"},null,8,["modelValue"])])),_:1}),(0,r.createVNode)(u,{field:"port2",label:"绑定端口","validate-trigger":"blur"},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(o,{modelValue:(0,r.unref)(t).form.port2,"onUpdate:modelValue":l[9]||(l[9]=e=>(0,r.unref)(t).form.port2=e),placeholder:"请输入绑定端口"},null,8,["modelValue"])])),_:1}),(0,r.createVNode)(u,{label:"配置文件","validate-trigger":"blur"},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(i,{"list-type":"picture-card",action:"/","default-file-list":(0,r.unref)(t).form.fileList2,limit:1,"image-preview":""},null,8,["default-file-list"])])),_:1})])),_:1},8,["model","rules"])])])}}}),c=t(83744);const i=(0,c.Z)(u,[["__scopeId","data-v-06d25102"]]);var f=i},13154:function(e,l,t){t.r(l),t.d(l,{default:function(){return m}});var r=t(70821),o=t(3595),a=t(8879);const n={class:"simple-install-c"},d=(0,r.createTextVNode)("添加配置"),s=(0,r.createTextVNode)("执行安装");var u;(function(e){e[e["CONFIG"]=1]="CONFIG",e[e["EXE"]=2]="EXE"})(u||(u={}));var c=(0,r.defineComponent)({props:{currStep:Number},setup(e,{expose:l}){const t=e,c=(0,r.ref)(null),i=async()=>{if(t.currStep===u.CONFIG){const e=await(c.value?.beforeConfirm());return e||!1}return!0};return l({beforeConfirm:i}),(l,t)=>{const i=(0,r.resolveComponent)("a-step"),f=(0,r.resolveComponent)("a-steps"),m=(0,r.resolveComponent)("a-divider");return(0,r.openBlock)(),(0,r.createElementBlock)("div",n,[(0,r.createVNode)(f,{current:e.currStep},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(i,null,{default:(0,r.withCtx)((()=>[d])),_:1}),(0,r.createVNode)(i,null,{default:(0,r.withCtx)((()=>[s])),_:1})])),_:1},8,["current"]),(0,r.createVNode)(m),e.currStep===u.CONFIG?((0,r.openBlock)(),(0,r.createBlock)(o["default"],{key:0,ref:(e,l)=>{l["configRef"]=e,c.value=e}},null,512)):(0,r.createCommentVNode)("",!0),e.currStep===u.EXE?((0,r.openBlock)(),(0,r.createBlock)(a["default"],{key:1,ref:(e,l)=>{l["exeRef"]=e}},null,512)):(0,r.createCommentVNode)("",!0)])}}}),i=t(83744);const f=(0,i.Z)(c,[["__scopeId","data-v-7167d05e"]]);var m=f}}]);
//# sourceMappingURL=3154.bbe4c4f1.js.map