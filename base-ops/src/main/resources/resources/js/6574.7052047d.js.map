{"version":3,"file":"js/6574.7052047d.js","mappings":"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","sources":["webpack://web-ui/./node_modules/@antv/x6-vue-shape/es/registry.js","webpack://web-ui/./node_modules/@antv/x6-vue-shape/es/hook.js","webpack://web-ui/./node_modules/@antv/x6-vue-shape/es/node.js","webpack://web-ui/./node_modules/@antv/x6-vue-shape/es/view.js","webpack://web-ui/./node_modules/@antv/x6-vue-shape/es/teleport.js","webpack://web-ui/./src/views/modeling/dataflow/child/detail/components/left-sidebar/index.vue?10e1","webpack://web-ui/./src/views/modeling/dataflow/child/detail/components/left-sidebar/index.vue","webpack://web-ui/./src/views/modeling/dataflow/child/detail/components/left-sidebar/nodes/index.vue?0825","webpack://web-ui/./src/views/modeling/dataflow/child/detail/components/left-sidebar/nodes/index.vue"],"sourcesContent":["import { Graph, Registry } from '@antv/x6';\nexport const registry = Registry.create({\n    type: 'vue componnet',\n});\nGraph.registerVueComponent = registry.register;\nGraph.unregisterVueComponent = registry.unregister;\n//# sourceMappingURL=registry.js.map","import { Graph, FunctionExt } from '@antv/x6';\nimport { registry } from './registry';\nGraph.Hook.prototype.getVueComponent = function (node) {\n    const getVueComponent = this.options.getVueComponent;\n    if (typeof getVueComponent === 'function') {\n        const ret = FunctionExt.call(getVueComponent, this.graph, node);\n        if (ret != null) {\n            return ret;\n        }\n    }\n    let ret = node.getComponent();\n    if (typeof ret === 'string') {\n        const component = registry.get(ret);\n        if (component == null) {\n            return registry.onNotFound(ret);\n        }\n        ret = component;\n    }\n    return ret;\n};\n//# sourceMappingURL=hook.js.map","import { Node, Markup, ObjectExt } from '@antv/x6';\nexport class VueShape extends Node {\n    get component() {\n        return this.getComponent();\n    }\n    set component(val) {\n        this.setComponent(val);\n    }\n    getComponent() {\n        return this.store.get('component');\n    }\n    setComponent(component, options = {}) {\n        if (component == null) {\n            this.removeComponent(options);\n        }\n        else {\n            this.store.set('component', component, options);\n        }\n        return this;\n    }\n    removeComponent(options = {}) {\n        this.store.remove('component', options);\n        return this;\n    }\n}\n(function (VueShape) {\n    function getMarkup(useForeignObject, primer = 'rect') {\n        const markup = [\n            {\n                tagName: primer,\n                selector: 'body',\n            },\n        ];\n        if (useForeignObject) {\n            markup.push(Markup.getForeignObjectMarkup());\n        }\n        else {\n            markup.push({\n                tagName: 'g',\n                selector: 'content',\n            });\n        }\n        markup.push({\n            tagName: 'text',\n            selector: 'label',\n        });\n        return markup;\n    }\n    VueShape.config({\n        view: 'vue-shape-view',\n        markup: getMarkup(true),\n        attrs: {\n            body: {\n                fill: 'none',\n                stroke: 'none',\n                refWidth: '100%',\n                refHeight: '100%',\n            },\n            fo: {\n                refWidth: '100%',\n                refHeight: '100%',\n            },\n            label: {\n                fontSize: 14,\n                fill: '#333',\n                refX: '50%',\n                refY: '50%',\n                textAnchor: 'middle',\n                textVerticalAnchor: 'middle',\n            },\n        },\n        propHooks(metadata) {\n            if (metadata.markup == null) {\n                const primer = metadata.primer;\n                const useForeignObject = metadata.useForeignObject;\n                if (primer != null || useForeignObject != null) {\n                    metadata.markup = getMarkup(useForeignObject !== false, primer);\n                    if (primer) {\n                        if (metadata.attrs == null) {\n                            metadata.attrs = {};\n                        }\n                        let attrs = {};\n                        if (primer === 'circle') {\n                            attrs = {\n                                refCx: '50%',\n                                refCy: '50%',\n                                refR: '50%',\n                            };\n                        }\n                        else if (primer === 'ellipse') {\n                            attrs = {\n                                refCx: '50%',\n                                refCy: '50%',\n                                refRx: '50%',\n                                refRy: '50%',\n                            };\n                        }\n                        if (primer !== 'rect') {\n                            metadata.attrs = ObjectExt.merge({}, metadata.attrs, {\n                                body: Object.assign({ refWidth: null, refHeight: null }, attrs),\n                            });\n                        }\n                    }\n                }\n            }\n            return metadata;\n        },\n    });\n    Node.registry.register('vue-shape', VueShape, true);\n})(VueShape || (VueShape = {}));\n//# sourceMappingURL=node.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { NodeView, Scheduler } from '@antv/x6';\nimport { isVue2, isVue3, createApp, h, Vue2 } from 'vue-demi';\nexport class VueShapeView extends NodeView {\n    init() {\n        super.init();\n    }\n    getComponentContainer() {\n        return this.selectors.foContent;\n    }\n    confirmUpdate(flag) {\n        const ret = super.confirmUpdate(flag);\n        return this.handleAction(ret, VueShapeView.action, () => {\n            Scheduler.scheduleTask(() => {\n                this.renderVueComponent();\n            });\n        });\n    }\n    renderVueComponent() {\n        this.unmountVueComponent();\n        const root = this.getComponentContainer();\n        const node = this.cell;\n        const graph = this.graph;\n        if (root) {\n            const component = this.graph.hook.getVueComponent(node);\n            if (isVue2) {\n                const Vue = Vue2;\n                const div = document.createElement('div');\n                div.style.width = '100%';\n                div.style.height = '100%';\n                if (typeof component === 'string') {\n                    div.innerHTML = component;\n                    this.vm = new Vue({ el: div });\n                }\n                else {\n                    const _a = component, { template } = _a, other = __rest(_a, [\"template\"]);\n                    div.innerHTML = template;\n                    this.vm = new Vue(Object.assign({ el: div, provide() {\n                            return {\n                                getGraph: () => graph,\n                                getNode: () => node,\n                            };\n                        } }, other));\n                }\n                root.appendChild(this.vm.$el);\n            }\n            else if (isVue3) {\n                this.vm = createApp({\n                    render() {\n                        return h(component);\n                    },\n                    provide() {\n                        return {\n                            getGraph: () => graph,\n                            getNode: () => node,\n                        };\n                    },\n                });\n                this.vm.mount(root);\n            }\n        }\n    }\n    unmountVueComponent() {\n        const root = this.getComponentContainer();\n        if (this.vm) {\n            isVue2 && this.vm.$destroy();\n            isVue3 && this.vm.unmount();\n            this.vm = null;\n        }\n        root.innerHTML = '';\n        return root;\n    }\n    unmount() {\n        this.unmountVueComponent();\n        super.unmount();\n        return this;\n    }\n}\n(function (VueShapeView) {\n    VueShapeView.action = 'vue';\n    VueShapeView.config({\n        bootstrap: [VueShapeView.action],\n        actions: {\n            component: VueShapeView.action,\n        },\n    });\n    NodeView.registry.register('vue-shape-view', VueShapeView, true);\n})(VueShapeView || (VueShapeView = {}));\n//# sourceMappingURL=view.js.map","import { defineComponent, h, reactive, isVue3, Vue } from 'vue-demi';\nimport { NodeView } from '@antv/x6';\nimport { VueShapeView } from './view';\nexport function useTeleport(uniqViewId) {\n    if (isVue3) {\n        const { Teleport, markRaw, Fragment, VNode, VNodeData } = Vue;\n        const action = 'vue';\n        const items = reactive({});\n        const TeleportContainer = defineComponent({\n            setup() {\n                return () => h(Fragment, {}, Object.keys(items).map((id) => h(items[id])));\n            },\n        });\n        const connect = (id, node, graph, component, getContainer) => {\n            items[id] = markRaw(defineComponent({\n                render: () => (getContainer()\n                    ? h(Teleport, { to: getContainer() }, [\n                        h(component),\n                    ])\n                    : null),\n                provide: () => ({\n                    getGraph: () => graph,\n                    getNode: () => node,\n                }),\n            }));\n        };\n        const disconnect = (id) => {\n            delete items[id];\n        };\n        class VuePortalShapeView extends NodeView {\n            init() {\n                super.init();\n                const targetId = `${this.graph.view.cid}:${this.cell.id}`;\n                this.cell.on('removed', () => {\n                    disconnect(targetId);\n                });\n                const component = this.graph.hook.getVueComponent(this.cell);\n                // 这里需要将当前View的cell以及graph还有component等对象存储起来给TeleportContainer使用\n                connect(targetId, this.cell, this.graph, component, this.getComponentContainer.bind(this));\n            }\n            getComponentContainer() {\n                return this.cell.prop('useForeignObject') === false\n                    ? this.selectors.content\n                    : this.selectors.foContent;\n            }\n            confirmUpdate(flag) {\n                const ret = super.confirmUpdate(flag);\n                return this.handleAction(ret, action, () => {\n                    // 这里无需做任何处理，但是，没有这个函数的时候，会卡死...\n                });\n            }\n        }\n        VuePortalShapeView.config({\n            bootstrap: [action],\n            actions: {\n                component: action,\n            },\n        });\n        NodeView.registry.register(uniqViewId, VuePortalShapeView, true);\n        return TeleportContainer;\n    }\n    // 如果是vue2就默认输出一个警告信息\n    console.warn('useTeleport should run in vue3');\n    // 或者拿默认的view注册一个，保证这个api是可用状态，不至于用户使用了，但是报错\n    NodeView.registry.register(uniqViewId, VueShapeView, true);\n    return defineComponent(() => null);\n}\nexport default useTeleport;\n//# sourceMappingURL=teleport.js.map","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, vModelText as _vModelText, withKeys as _withKeys, createElementVNode as _createElementVNode, withDirectives as _withDirectives, resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveDynamicComponent as _resolveDynamicComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, normalizeClass as _normalizeClass, withCtx as _withCtx, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-d4c182b6\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"search\" }\nconst _hoisted_2 = { class: \"search-frame\" }\nconst _hoisted_3 = [\"placeholder\", \"onKeydown\"]\nconst _hoisted_4 = { class: \"content\" }\nconst _hoisted_5 = [\"onClick\"]\nconst _hoisted_6 = { class: \"name\" }\nconst _hoisted_7 = { class: \"text\" }\nconst _hoisted_8 = [\"onMousedown\", \"onMouseup\"]\nconst _hoisted_9 = { class: \"node-title-icon\" }\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"active-bg\" }, null, -1))\nconst _hoisted_11 = { class: \"title-text\" }\n\nimport { computed, nextTick, reactive } from 'vue'\nimport { Dnd } from '@antv/x6/lib/addon'\nimport { Graph, Addon, Node } from '@antv/x6'\nimport '@antv/x6-vue-shape'\nimport { Spin as ASpin } from '@arco-design/web-vue'\nimport Nodes from './nodes/index.vue'\nimport { useModelCommonStore } from '@/store/modules/modeling/common'\nimport { PropsOptions } from '../../types'\nimport { KeyValue } from '@/api/modeling/request'\nimport svgIcon from '@/components/svg-icon/index.vue'\ntype Group = { name?: string, child: Array<Node.Metadata>, open?: boolean, childHeight?: string, groupType: string }\ninterface leftIData { loading: boolean, graph: Graph | null, dnd: Dnd | null, search: string, nodes: Array<Group>, open: boolean }\n\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props, { expose }) {\n\nconst mCStore = useModelCommonStore()\nconst operate = (type: string, data: any) => {\n  mCStore.nodeEvent({ event: 'operate', type, data })\n}\nconst iData: leftIData = reactive({\n  loading: true, graph: null, dnd: null, nodes: [], open: true,\n  search: ''\n})\nconst init = (graph: Graph, options: PropsOptions) => {\n  iData.dnd = new Addon.Dnd({\n    target: graph,\n    getDragNode: (node) => node.clone(),\n    getDropNode: (node) => node.clone()\n  })\n  iData.graph = graph\n  if (options && options.stencil && options.stencil.nodes) {\n    let menuArr: Group[] = JSON.parse(JSON.stringify(options.stencil.nodes))\n    iData.nodes = menuArr\n    registerVueComponent(options)\n    iData.nodes = menuArr.filter(item => item.groupType !== 'hidden')\n    nextTick(() => { iData.nodes.forEach(item => toggleGroup(item)) })\n  }\n  iData.loading = false\n}\nconst showNodes = computed(() => {\n  let arr: any = [{ child: [] }]\n  if (iData.search) {\n    iData.nodes.forEach((group: KeyValue) => {\n      group.child.forEach((node: Node.Metadata) => {\n        if (node.data.text.includes(iData.search)) arr[0].child.push(node)\n      })\n    })\n  } else arr = iData.nodes\n  return arr\n})\nconst toggleGroup = (group: Group) => {\n  group.childHeight = group.open ? '0px' : `${group.child.length * (50 + 10) + 50}px`\n  group.open = !group.open\n}\nconst onMousedown = (e: MouseEvent, node: Node.Metadata) => {\n  let iNode: Node | undefined = undefined\n  iNode = iData.graph?.createNode({\n    shape: node.data.type,\n    width: 220, height: 60,\n    ports: node.ports ? node.ports : {},\n    data: node.data ? node.data : {}\n  })\n  iData.graph && iNode && iData.dnd?.start(iNode, e)\n}\nconst onMouseup = (e: Event, node: Node.Metadata) => {\n  console.log(e, node)\n}\nconst onSearch = () => {\n  console.log('search component')\n}\nconst registerVueComponent = (options: PropsOptions) => {\n  options.stencil.nodes.forEach(group => {\n    group.child.forEach((node) => {\n      if (node.data.rule && typeof node.data.rule === 'function') mCStore.setRule(node.data.cells_type, node.data.rule)\n      if (node.shape === 'vue-shape') {\n        if (!mCStore.isRegisterNodes.includes(node.data.type)) {\n          mCStore.isRegisterNodes.push(node.data.type)\n          Graph.registerNode(node.data.type, {\n            inherit: 'vue-shape',\n            component: { render: () => <Nodes component={node.data.type} operate={operate} /> }\n          })\n        }\n      }\n    })\n  })\n}\nconst toggleMenu = () => {\n  iData.open = !iData.open\n}\nexpose({ init, toggleMenu })\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_icon_search = _resolveComponent(\"icon-search\")!\n  const _component_icon_down = _resolveComponent(\"icon-down\")!\n\n  return (_openBlock(), _createBlock(_unref(ASpin), {\n    class: \"left-sidebar-container\",\n    spinning: _unref(iData).loading,\n    wrapperClassName: _unref(iData).open ? 'open' : 'close'\n  }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", {\n        class: _normalizeClass([\"left-sidebar\", [_unref(iData).open ? 'open' : 'close']])\n      }, [\n        _createElementVNode(\"div\", _hoisted_1, [\n          _createElementVNode(\"div\", _hoisted_2, [\n            _withDirectives(_createElementVNode(\"input\", {\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => (_unref(iData).search = $event)),\n              type: \"text\",\n              placeholder: _ctx.$t('modeling.left-sidebar.index.5m78udtsry80'),\n              onKeydown: _withKeys(onSearch, [\"enter\"])\n            }, null, 40, _hoisted_3), [\n              [_vModelText, _unref(iData).search]\n            ]),\n            _createElementVNode(\"div\", {\n              class: \"search-icon\",\n              onClick: onSearch\n            }, [\n              _createVNode(_component_icon_search)\n            ])\n          ])\n        ]),\n        _createElementVNode(\"div\", _hoisted_4, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(showNodes), (group, groupKey) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: _normalizeClass([\"group\", group.open || !group.name ? 'group-open' : '']),\n              key: `groupKey${groupKey}`\n            }, [\n              (group.name)\n                ? (_openBlock(), _createElementBlock(\"div\", {\n                    key: 0,\n                    class: \"group-name\",\n                    onClick: ($event: any) => (toggleGroup(group))\n                  }, [\n                    _createElementVNode(\"div\", _hoisted_6, [\n                      (group.icon && group.icon.startsWith(`icon-`))\n                        ? (_openBlock(), _createBlock(_resolveDynamicComponent(group.icon), { key: 0 }))\n                        : _createCommentVNode(\"\", true),\n                      _createElementVNode(\"div\", _hoisted_7, _toDisplayString(group.name), 1),\n                      _createVNode(_component_icon_down, { class: \"group-arrow\" })\n                    ])\n                  ], 8, _hoisted_5))\n                : _createCommentVNode(\"\", true),\n              _createElementVNode(\"div\", {\n                class: \"nodes\",\n                style: _normalizeStyle(group.name ? { height: group.childHeight } : { height: 'auto', paddingTop: 0 })\n              }, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(group.child, (node, nodeKey) => {\n                  return (_openBlock(), _createElementBlock(\"div\", {\n                    class: \"node\",\n                    key: `nodeKey${nodeKey}`\n                  }, [\n                    _createElementVNode(\"div\", {\n                      class: \"node-title\",\n                      onMousedown: (e) => onMousedown(e, node),\n                      onMouseup: (e) => onMouseup(e, node)\n                    }, [\n                      _createElementVNode(\"div\", _hoisted_9, [\n                        (node.data.icon)\n                          ? (_openBlock(), _createBlock(svgIcon, {\n                              key: 0,\n                              class: \"bs-i\",\n                              \"icon-class\": node.data.icon\n                            }, null, 8, [\"icon-class\"]))\n                          : _createCommentVNode(\"\", true),\n                        _hoisted_10\n                      ]),\n                      _createElementVNode(\"div\", _hoisted_11, _toDisplayString(node.data.text), 1)\n                    ], 40, _hoisted_8)\n                  ]))\n                }), 128))\n              ], 4)\n            ], 2))\n          }), 128))\n        ])\n      ], 2)\n    ]),\n    _: 1\n  }, 8, [\"spinning\", \"wrapperClassName\"]))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&setup=true&lang=tsx\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=tsx\"\n\nimport \"./index.vue?vue&type=style&index=0&id=d4c182b6&scoped=true&lang=less\"\n\nimport exportComponent from \"/Users/xielibo/ideawork/huawei/base-ops/web-ui/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d4c182b6\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport { defineAsyncComponent, computed, provide } from 'vue'\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n    component: { type: String, required: true },\n    operate: { type: null, required: true }\n  },\n  setup(__props: any) {\n\nconst props = __props as { component: string, operate: any }\nconst coms: { [key: string]: any } = {\n  TableNode: defineAsyncComponent(() => import(`./table/index.vue`)),\n  BaseNode: defineAsyncComponent(() => import(`./BaseNode.vue`))\n}\n\nprovide('node-event', props.operate)\nconst componenta = computed(() => {\n  return coms[props.component]\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(_resolveDynamicComponent(_unref(componenta)), { operate: __props.operate }, null, 8, [\"operate\"]))\n}\n}\n\n})","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["registry","type","register","unregister","node","getVueComponent","this","options","ret","graph","getComponent","component","get","onNotFound","VueShape","val","setComponent","store","removeComponent","set","remove","getMarkup","useForeignObject","primer","markup","tagName","selector","push","config","view","attrs","body","fill","stroke","refWidth","refHeight","fo","label","fontSize","refX","refY","textAnchor","textVerticalAnchor","propHooks","metadata","refCx","refCy","refR","refRx","refRy","Object","assign","__rest","s","e","t","p","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","init","super","getComponentContainer","selectors","foContent","confirmUpdate","flag","handleAction","action","renderVueComponent","unmountVueComponent","root","cell","hook","Vue","div","document","createElement","style","width","height","innerHTML","vm","el","_a","template","other","provide","getGraph","getNode","appendChild","$el","render","h","mount","$destroy","unmount","VueShapeView","bootstrap","actions","_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_createElementVNode","_hoisted_11","_defineComponent","setup","__props","expose","mCStore","useModelCommonStore","operate","data","nodeEvent","event","iData","reactive","loading","dnd","nodes","open","search","Addon","target","getDragNode","clone","getDropNode","stencil","menuArr","JSON","parse","stringify","registerVueComponent","filter","item","groupType","nextTick","forEach","toggleGroup","showNodes","computed","arr","child","group","text","includes","childHeight","onMousedown","iNode","createNode","shape","ports","start","onMouseup","console","log","onSearch","rule","setRule","cells_type","isRegisterNodes","Graph","inherit","toggleMenu","_ctx","_cache","_component_icon_search","_resolveComponent","_component_icon_down","_openBlock","_createBlock","_unref","ASpin","spinning","wrapperClassName","default","_withCtx","_normalizeClass","_withDirectives","$event","placeholder","$t","onKeydown","_withKeys","_vModelText","onClick","_createVNode","_createElementBlock","_Fragment","_renderList","groupKey","name","key","icon","startsWith","_resolveDynamicComponent","_createCommentVNode","_toDisplayString","_normalizeStyle","paddingTop","nodeKey","svgIcon","_","__exports__","props","String","required","coms","TableNode","defineAsyncComponent","BaseNode","componenta"],"sourceRoot":""}