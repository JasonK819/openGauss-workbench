(self["webpackChunkweb_ui"]=self["webpackChunkweb_ui"]||[]).push([[2436],{33781:function(t,e,o){"use strict";o.d(e,{Z:function(){return i}});var n=o(47327);class r{constructor(){(0,n.Z)(this,"heartTimeOut",void 0),(0,n.Z)(this,"ServerHeartTimeOut",void 0),(0,n.Z)(this,"timeout",5e3)}reset(){clearTimeout(this.heartTimeOut),clearTimeout(this.ServerHeartTimeOut)}start(t){this.heartTimeOut=setTimeout((e=>{t(e),this.ServerHeartTimeOut=setTimeout((e=>{t(e),this.reset(),this.start(t)}),this.timeout)}),this.timeout)}}class i extends r{constructor(t){super(),(0,n.Z)(this,"ws",void 0),(0,n.Z)(this,"reconnectTimer",0),(0,n.Z)(this,"reconnectCount",10),(0,n.Z)(this,"options",{url:null,heartTime:5e3,heartMsg:"ping",isReconnect:!0,isRestory:!1,reconnectTime:5e3,reconnectCount:5,openCb:t=>{console.log("connect success callback::::",t)},closeCb:t=>{console.log("close callback::::",t)},messageCb:t=>{console.log("message callback::::",t)},errorCb:t=>{console.log("error callback::::",t)}}),Object.assign(this.options,t),this.create()}create(){if(!("WebSocket"in window))throw new Error("The current browser does not support it and cannot be used");if(!this.options.url)throw new Error("The address does not exist, and the channel cannot be established");let t;console.log("get locaion host: ",window.location.host),t=`ws://${window.location.host}/ws/base-ops/${this.options.url}`,this.ws=new WebSocket(t),this.onopen(this.options.openCb),this.onclose(this.options.closeCb),this.onmessage(this.options.messageCb)}onopen(t){this.ws.onopen=e=>{"function"===typeof t?t(e):"function"===typeof this.options.openCb&&this.options.openCb(e)}}onclose(t){this.ws.onclose=e=>{"function"===typeof t?t(e):"function"===typeof this.options.closeCb&&this.options.closeCb(e)}}onerror(t){this.ws.onerror=e=>{"function"===typeof t?t(e):"function"===typeof this.options.errorCb&&this.options.errorCb(e)}}onmessage(t){this.ws.onmessage=e=>{const o=e.data;"function"===typeof t&&t(o)}}send(t){console.log("doNothing",t)}destroy(){super.reset(),clearTimeout(this.reconnectTimer),this.options.isRestory=!0,this.ws.close()}}},3334:function(t){!function(e,o){t.exports=o()}(window,(function(){return function(t){var e={};function o(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=0)}([function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AttachAddon=void 0;var n=function(){function t(t,e){this._disposables=[],this._socket=t,this._socket.binaryType="arraybuffer",this._bidirectional=!e||!1!==e.bidirectional}return t.prototype.activate=function(t){var e=this;this._disposables.push(r(this._socket,"message",(function(e){var o=e.data;t.write("string"==typeof o?o:new Uint8Array(o))}))),this._bidirectional&&(this._disposables.push(t.onData((function(t){return e._sendData(t)}))),this._disposables.push(t.onBinary((function(t){return e._sendBinary(t)})))),this._disposables.push(r(this._socket,"close",(function(){return e.dispose()}))),this._disposables.push(r(this._socket,"error",(function(){return e.dispose()})))},t.prototype.dispose=function(){this._disposables.forEach((function(t){return t.dispose()}))},t.prototype._sendData=function(t){1===this._socket.readyState&&this._socket.send(t)},t.prototype._sendBinary=function(t){if(1===this._socket.readyState){for(var e=new Uint8Array(t.length),o=0;o<t.length;++o)e[o]=255&t.charCodeAt(o);this._socket.send(e)}},t}();function r(t,e,o){return t.addEventListener(e,o),{dispose:function(){o&&t.removeEventListener(e,o)}}}e.AttachAddon=n}])}))},12617:function(t){!function(e,o){t.exports=o()}(self,(function(){return(()=>{"use strict";var t={775:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FitAddon=void 0;var o=function(){function t(){}return t.prototype.activate=function(t){this._terminal=t},t.prototype.dispose=function(){},t.prototype.fit=function(){var t=this.proposeDimensions();if(t&&this._terminal){var e=this._terminal._core;this._terminal.rows===t.rows&&this._terminal.cols===t.cols||(e._renderService.clear(),this._terminal.resize(t.cols,t.rows))}},t.prototype.proposeDimensions=function(){if(this._terminal&&this._terminal.element&&this._terminal.element.parentElement){var t=this._terminal._core;if(0!==t._renderService.dimensions.actualCellWidth&&0!==t._renderService.dimensions.actualCellHeight){var e=window.getComputedStyle(this._terminal.element.parentElement),o=parseInt(e.getPropertyValue("height")),n=Math.max(0,parseInt(e.getPropertyValue("width"))),r=window.getComputedStyle(this._terminal.element),i=o-(parseInt(r.getPropertyValue("padding-top"))+parseInt(r.getPropertyValue("padding-bottom"))),s=n-(parseInt(r.getPropertyValue("padding-right"))+parseInt(r.getPropertyValue("padding-left")))-t.viewport.scrollBarWidth;return{cols:Math.max(2,Math.floor(s/t._renderService.dimensions.actualCellWidth)),rows:Math.max(1,Math.floor(i/t._renderService.dimensions.actualCellHeight))}}}},t}();e.FitAddon=o}},e={};return function o(n){if(e[n])return e[n].exports;var r=e[n]={exports:{}};return t[n](r,r.exports,o),r.exports}(775)})()}))},47327:function(t,e,o){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function r(t,e){if("object"!==n(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var r=o.call(t,e||"default");if("object"!==n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function i(t){var e=r(t,"string");return"symbol"===n(e)?e:String(e)}function s(t,e,o){return e=i(e),e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}o.d(e,{Z:function(){return s}})}}]);
//# sourceMappingURL=2436.6585a0f3.js.map