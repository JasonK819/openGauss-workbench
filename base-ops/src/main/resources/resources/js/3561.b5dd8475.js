"use strict";(self["webpackChunkweb_ui"]=self["webpackChunkweb_ui"]||[]).push([[3561,3283,3238],{39518:function(e,t,l){l.d(t,{$4:function(){return C},Ac:function(){return s},BL:function(){return w},C4:function(){return W},DF:function(){return V},GD:function(){return D},IW:function(){return G},K4:function(){return $},Kf:function(){return U},LR:function(){return n},Lf:function(){return o},Ox:function(){return T},PK:function(){return i},R1:function(){return _},Sv:function(){return E},T2:function(){return m},T4:function(){return F},TL:function(){return L},TY:function(){return q},Uw:function(){return N},We:function(){return z},YQ:function(){return k},Ye:function(){return h},ZA:function(){return A},_V:function(){return f},c0:function(){return d},gi:function(){return I},h:function(){return b},jQ:function(){return M},jV:function(){return R},nT:function(){return g},sT:function(){return v},tA:function(){return u},ur:function(){return x},w3:function(){return p},xj:function(){return c},y6:function(){return B},zs:function(){return S},zx:function(){return y}});var a=l(9669),r=l.n(a);const o=()=>r().get("encryption/getKey"),n=e=>r().post("opsCluster/download",e||{}),d=e=>r().get(`opsCluster/env/${e}`),s=e=>r().post("opsCluster/install",e),u=e=>r().post("opsCluster/import",e),i=e=>r().post("opsCluster/quickInstall",e),c=e=>r().get("opsCluster/check",{params:e}),p=e=>r().post("opsCluster/uninstall",e),m=e=>r().get("opsCluster/hasName",{params:e}),f=()=>r().get("opsCluster/listCluster"),h=e=>r().post("opsCluster/ssh",e),g=e=>r().get("opsCluster/monitor",{params:e}),w=e=>r().post("opsCluster/start",e),v=e=>r().post("opsCluster/stop",e),x=e=>r().post("opsCluster/restart",e),L=e=>r().get("opsCluster/listHost",{params:e}),b=e=>r().get(e?`opsCluster/listInstallPackage?path=${e}`:"opsCluster/listInstallPackage"),y=()=>r().get("host/listAll"),k=e=>r().get(`hostUser/listAllWithoutRoot/${e}`),C=()=>r().get("az/listAll"),V=e=>r().get("opsCluster/logPath",{params:e}),I=e=>r().get("opsCluster/ls",{params:e}),N=e=>r().get("opsCluster/slowSql",{params:e}),D=e=>r().get("opsCluster/auditLog",{params:e}),E=e=>r().get("opsCluster/download",{params:e}),B=e=>r().get("wdr/list",{params:e}),_=e=>r().post("wdr/generate",e),S=e=>r()["delete"]("wdr/del/"+e),T=e=>r().get("wdr/createSnapshot",{params:e}),$=e=>r().get("wdr/downloadWdr",{params:e}),W=e=>r().get("wdr/listSnapshot",{params:e}),G=e=>r().post("backup/backup",e),F=e=>r().get("backup/page",{params:e}),U=(e,t)=>r().post("backup/recover/"+e,t),R=e=>r()["delete"]("backup/del/"+e),z=e=>r().get("installPackageManager/page",{params:e}),q=e=>r()["delete"]("installPackageManager/"+e),A=e=>r().post("installPackageManager/save",e),M=(e,t)=>r().put(`installPackageManager/update/${e}`,t)},83744:function(e,t){t.Z=(e,t)=>{const l=e.__vccOpts||e;for(const[a,r]of t)l[a]=r;return l}},73283:function(e,t,l){l.r(t),l.d(t,{default:function(){return w}});l(57658);var a=l(70821),r=l(15784),o=l(39518),n=l(57330);const d={class:"snapshot-c"},s={class:"flex-between mb"},u={class:"flex-row"},i={class:"flex-row mr"},c={class:"top-label mr-s"},p={class:"flex-row mr"},m={class:"top-label mr-s"};var f=(0,a.defineComponent)({setup(e,{expose:t}){const{t:l}=(0,n.QT)(),f=(0,a.reactive)({show:!1,title:"",createLoading:!1,clusterId:"",hostId:"",clusterListLoading:!1,clusterList:[],hostListLoading:!1,hostList:[]}),h=(0,a.computed)((()=>[{title:l("snapshot.index.5mplywcvrq80"),dataIndex:"snapshot_id"},{title:l("snapshot.index.5mplywcvru80"),dataIndex:"end_ts"}])),g=(0,a.reactive)({data:[],page:{page:1,pageSize:10},loading:!1});(0,a.onMounted)((()=>{v()}));const w=()=>{f.show=!1},v=()=>new Promise((e=>{f.clusterListLoading=!0,(0,o._V)().then((t=>{200===Number(t.code)?(e(!0),t.data.forEach((e=>{f.clusterList.push({label:e.clusterId,value:e.clusterId})})),f.clusterId=f.clusterList[0].value,x()):e(!1)})).finally((()=>{f.clusterListLoading=!1}))})),x=()=>{if(f.clusterId){const e={clusterId:f.clusterId};f.hostListLoading=!0,(0,o.TL)(e).then((e=>{200===Number(e.code)?(f.hostList=[],e.data.forEach((e=>{f.hostList.push({label:`${e.privateIp}(${e.hostname})`,value:e.hostId})})),f.hostId=f.hostList[0].value,b()):r.Z.error("Failed to obtain host information")})).finally((()=>{f.hostListLoading=!1}))}},L=()=>{f.createLoading=!0;const e={clusterId:f.clusterId,hostId:f.hostId};(0,o.Ox)(e).then((e=>{200===Number(e.code)?setTimeout((()=>{b()}),1e3):r.Z.error("Failed to Generate a Snapshot")})).catch((()=>{r.Z.error("Failed to Generate a Snapshot")})).finally((()=>{f.createLoading=!1}))},b=()=>{g.loading=!0;const e={clusterId:f.clusterId,hostId:f.hostId};(0,o.C4)(e).then((e=>{200===Number(e.code)?g.data=e.data:r.Z.error("Failed to obtain the snapshot query list")})).catch((()=>{r.Z.error("Failed to obtain the snapshot query list")})).finally((()=>{g.loading=!1}))},y=()=>new Promise((e=>{f.show=!0,f.title=l("snapshot.index.snapshotManage")}));return t({open:y}),(e,t)=>{const l=(0,a.resolveComponent)("icon-plus"),r=(0,a.resolveComponent)("a-button"),o=(0,a.resolveComponent)("a-option"),n=(0,a.resolveComponent)("a-select"),v=(0,a.resolveComponent)("a-table"),y=(0,a.resolveComponent)("a-spin"),k=(0,a.resolveComponent)("a-modal");return(0,a.openBlock)(),(0,a.createBlock)(k,{"mask-closable":!1,"esc-to-close":!1,visible:(0,a.unref)(f).show,title:(0,a.unref)(f).title,onCancel:w,"modal-style":{width:"900px",height:"600px"},footer:!1},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",d,[(0,a.createVNode)(y,{class:"full-w",loading:(0,a.unref)(f).createLoading,tip:e.$t("snapshot.index.5mplywcvqh80")},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",s,[(0,a.createVNode)(r,{type:"primary",onClick:L},{icon:(0,a.withCtx)((()=>[(0,a.createVNode)(l)])),default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$t("snapshot.index.5mplywcvr080")),1)])),_:1}),(0,a.createElementVNode)("div",u,[(0,a.createElementVNode)("div",i,[(0,a.createElementVNode)("div",c,(0,a.toDisplayString)(e.$t("snapshot.index.5mplywcvr7c0")),1),(0,a.createVNode)(n,{class:"select-w",loading:(0,a.unref)(f).clusterListLoading,modelValue:(0,a.unref)(f).clusterId,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,a.unref)(f).clusterId=e),placeholder:e.$t("snapshot.index.5mplywcvrb80"),onChange:x},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(f).clusterList,((e,t)=>((0,a.openBlock)(),(0,a.createBlock)(o,{key:t,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["loading","modelValue","placeholder"])]),(0,a.createElementVNode)("div",p,[(0,a.createElementVNode)("div",m,(0,a.toDisplayString)(e.$t("snapshot.index.5mplywcvres0")),1),(0,a.createVNode)(n,{class:"select-w",loading:(0,a.unref)(f).hostListLoading,modelValue:(0,a.unref)(f).hostId,"onUpdate:modelValue":t[1]||(t[1]=e=>(0,a.unref)(f).hostId=e),placeholder:e.$t("snapshot.index.5mplywcvrio0")},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(f).hostList,((e,t)=>((0,a.openBlock)(),(0,a.createBlock)(o,{key:t,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["loading","modelValue","placeholder"])]),(0,a.createVNode)(r,{type:"primary",onClick:b},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("snapshot.index.5mplywcvrmg0")),1)])),_:1})])]),(0,a.createVNode)(v,{class:"d-a-table-row full-h",data:(0,a.unref)(g).data,columns:(0,a.unref)(h),pagination:(0,a.unref)(g).page,loading:(0,a.unref)(g).loading},null,8,["data","columns","pagination","loading"])])),_:1},8,["loading","tip"])])])),_:1},8,["visible","title"])}}}),h=l(83744);const g=(0,h.Z)(f,[["__scopeId","data-v-328973f2"]]);var w=g},33238:function(e,t,l){l.r(t),l.d(t,{default:function(){return u}});l(57658);var a=l(70821),r=l(39518),o=l(15784),n=l(57330),d=(0,a.defineComponent)({emits:["finish"],setup(e,{expose:t,emit:l}){const{t:d}=(0,n.QT)(),s=(0,a.reactive)({show:!1,title:d("wdr.GenerateWdrDlg.5mpm0eufzrs0"),loading:!1,formData:{clusterId:"",hostId:"",scope:"CLUSTER",type:"DETAIL",startId:"",endId:""},clusterListLoading:!1,clusterList:[],hostListLoading:!1,hostList:[],wdrScopeList:[],getSnapshotLoading:!1,snapshotList:[],wdrTypeList:[],rules:{clusterId:[{required:!0,"validate-trigger":"blur",message:d("wdr.GenerateWdrDlg.5mpm0eufy340")}]}}),u=()=>{s.show=!1,(0,a.nextTick)((()=>{i.value?.clearValidate(),i.value?.resetFields(),s.clusterList=[]}))},i=(0,a.ref)(null),c=()=>{i.value?.validate().then((e=>{e||(s.loading=!0,(0,r.R1)(s.formData).then((e=>{200===Number(e.code)?(l("finish"),u()):o.Z.error("Error generating WDR report, cause of error: "+e.msg)})).catch((()=>{o.Z.error("Error generating WDR report")})).finally((()=>{s.loading=!1})))}))},p=()=>new Promise((e=>{s.clusterListLoading=!0,(0,r._V)().then((t=>{200===Number(t.code)?(e(!0),t.data.forEach((e=>{s.clusterList.push({label:e.clusterId,value:e.clusterId})})),s.formData.clusterId=s.clusterList[0].value,m()):e(!1)})).finally((()=>{s.clusterListLoading=!1}))})),m=()=>{if(s.formData.clusterId){const e={clusterId:s.formData.clusterId};s.hostListLoading=!0,(0,r.TL)(e).then((e=>{200===Number(e.code)?(s.hostList=[],e.data.forEach((e=>{s.hostList.push({label:`${e.privateIp}(${e.hostname})`,value:e.hostId})})),s.formData.hostId=s.hostList[0].value,f()):o.Z.error("Failed to obtain host user information")})).finally((()=>{s.hostListLoading=!1}))}},f=()=>{if(s.formData.clusterId&&s.formData.hostId){const e={clusterId:s.formData.clusterId,hostId:s.formData.hostId};s.getSnapshotLoading=!0,(0,r.C4)(e).then((e=>{200===Number(e.code)?(s.snapshotList=[],e.data.forEach((e=>{s.snapshotList.push({label:e.snapshot_id,value:e.snapshot_id})})),s.formData.startId=s.snapshotList[0].value,s.formData.endId=s.snapshotList[s.snapshotList.length-1].value):o.Z.error("Failed to obtain host information")})).finally((()=>{s.getSnapshotLoading=!1}))}},h=()=>{s.show=!0,s.title=d("wdr.GenerateWdrDlg.5mpm0eufzrs0"),s.wdrScopeList=[{label:d("wdr.GenerateWdrDlg.5mpm0eufzv40"),value:"CLUSTER"},{label:d("wdr.GenerateWdrDlg.5mpm0eufzyg0"),value:"NODE"}],s.wdrTypeList=[{label:d("wdr.GenerateWdrDlg.5mpm0eug0300"),value:"DETAIL"},{label:d("wdr.GenerateWdrDlg.5mpm0eug0880"),value:"SUMMARY"},{label:d("wdr.GenerateWdrDlg.5mpm0eug0bc0"),value:"ALL"}],p()};return t({open:h}),(e,t)=>{const l=(0,a.resolveComponent)("a-option"),r=(0,a.resolveComponent)("a-select"),o=(0,a.resolveComponent)("a-form-item"),n=(0,a.resolveComponent)("a-form"),p=(0,a.resolveComponent)("a-modal");return(0,a.openBlock)(),(0,a.createBlock)(p,{"mask-closable":!1,"esc-to-close":!1,visible:(0,a.unref)(s).show,title:(0,a.unref)(s).title,"ok-loading":(0,a.unref)(s).loading,"modal-style":{width:"450px"},onOk:c,onCancel:u,okText:e.$t("wdr.GenerateWdrDlg.5mpm0eufx3g0")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{model:(0,a.unref)(s).formData,ref:(e,t)=>{t["formRef"]=e,i.value=e},"label-col":{style:{width:"100px"}},rules:(0,a.unref)(s).rules},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(o,{field:"clusterId",label:e.$t("wdr.GenerateWdrDlg.5mpm0eufxww0"),"validate-trigger":"change",rules:[{required:!0,message:(0,a.unref)(d)("wdr.GenerateWdrDlg.5mpm0eufy340")}]},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(r,{modelValue:(0,a.unref)(s).formData.clusterId,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,a.unref)(s).formData.clusterId=e),placeholder:e.$t("wdr.GenerateWdrDlg.5mpm0eufy340"),onChange:m},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(s).clusterList,((e,t)=>((0,a.openBlock)(),(0,a.createBlock)(l,{key:t,value:e.value,label:e.label},null,8,["value","label"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label","rules"]),(0,a.createVNode)(o,{field:"hostId",label:e.$t("wdr.GenerateWdrDlg.5mpm0eufy7k0"),"validate-trigger":"change",rules:[{required:!0,message:(0,a.unref)(d)("wdr.GenerateWdrDlg.5mpm0eufyb40")}]},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(r,{modelValue:(0,a.unref)(s).formData.hostId,"onUpdate:modelValue":t[1]||(t[1]=e=>(0,a.unref)(s).formData.hostId=e),placeholder:e.$t("wdr.GenerateWdrDlg.5mpm0eufyb40"),onChange:f},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(s).hostList,((e,t)=>((0,a.openBlock)(),(0,a.createBlock)(l,{key:t,value:e.value,label:e.label},null,8,["value","label"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label","rules"]),(0,a.createVNode)(o,{field:"scope",label:e.$t("wdr.GenerateWdrDlg.5mpm0eufyew0"),"validate-trigger":"change"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(r,{modelValue:(0,a.unref)(s).formData.scope,"onUpdate:modelValue":t[2]||(t[2]=e=>(0,a.unref)(s).formData.scope=e),placeholder:e.$t("wdr.GenerateWdrDlg.5mpm0eufyig0")},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(s).wdrScopeList,((e,t)=>((0,a.openBlock)(),(0,a.createBlock)(l,{key:t,value:e.value,label:e.label},null,8,["value","label"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,a.createVNode)(o,{field:"type",label:e.$t("wdr.GenerateWdrDlg.5mpm0eufyo80"),"validate-trigger":"change"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(r,{modelValue:(0,a.unref)(s).formData.type,"onUpdate:modelValue":t[3]||(t[3]=e=>(0,a.unref)(s).formData.type=e),placeholder:e.$t("wdr.GenerateWdrDlg.5mpm0eufyz00")},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(s).wdrTypeList,((e,t)=>((0,a.openBlock)(),(0,a.createBlock)(l,{key:t,value:e.value,label:e.label},null,8,["value","label"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,a.createVNode)(o,{field:"startId",label:e.$t("wdr.GenerateWdrDlg.5mpm0eufzbk0"),"validate-trigger":"change",rules:[{required:!0,message:(0,a.unref)(d)("wdr.GenerateWdrDlg.5mpm0eufzg00")}]},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(r,{loading:(0,a.unref)(s).getSnapshotLoading,modelValue:(0,a.unref)(s).formData.startId,"onUpdate:modelValue":t[4]||(t[4]=e=>(0,a.unref)(s).formData.startId=e),placeholder:e.$t("wdr.GenerateWdrDlg.5mpm0eufzg00")},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(s).snapshotList,((e,t)=>((0,a.openBlock)(),(0,a.createBlock)(l,{key:t,value:e.value,label:e.label},null,8,["value","label"])))),128))])),_:1},8,["loading","modelValue","placeholder"])])),_:1},8,["label","rules"]),(0,a.createVNode)(o,{field:"endId",label:e.$t("wdr.GenerateWdrDlg.5mpm0eufzk80"),"validate-trigger":"change",rules:[{required:!0,message:(0,a.unref)(d)("wdr.GenerateWdrDlg.5mpm0eufzo40")}]},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(r,{loading:(0,a.unref)(s).getSnapshotLoading,modelValue:(0,a.unref)(s).formData.endId,"onUpdate:modelValue":t[5]||(t[5]=e=>(0,a.unref)(s).formData.endId=e),placeholder:e.$t("wdr.GenerateWdrDlg.5mpm0eufzo40")},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(s).snapshotList,((e,t)=>((0,a.openBlock)(),(0,a.createBlock)(l,{key:t,value:e.value,label:e.label},null,8,["value","label"])))),128))])),_:1},8,["loading","modelValue","placeholder"])])),_:1},8,["label","rules"])])),_:1},8,["model","rules"])])),_:1},8,["visible","title","ok-loading","okText"])}}});const s=d;var u=s},3561:function(e,t,l){l.r(t),l.d(t,{default:function(){return D}});l(57658);var a=l(70821),r=l(15784),o=l(39518),n=l(33238),d=l(73283),s=l(57330);const u={class:"wdr-c"},i={class:"flex-col mb"},c={class:"full-w mb",style:{display:"flex","justify-content":"space-around"}},p={class:"flex-col-start",style:{width:"33.3%"}},m={class:"flex-row mb"},f={class:"top-label mr-s"},h={class:"flex-row"},g={class:"query-label mr-s"},w={class:"flex-col-start",style:{width:"33.3%","margin-left":"100px"}},v={class:"flex-row"},x={class:"top-label mr-s"},L={class:"flex-col-end",style:{width:"33.3%"}},b={class:"flex-row mb"},y={class:"top-label mr-s"},k={class:"flex-row-end"},C={class:"flex-row-start"};var V=(0,a.defineComponent)({setup(e){const{t:t}=(0,s.QT)(),l=(0,a.reactive)({clusterId:"",hostId:"",wdrScope:"CLUSTER",wdrType:"DETAIL",start:"",end:"",wdrScopeList:[],wdrTypeList:[],clusterListLoading:!1,clusterList:[],hostListLoading:!1,hostList:[]}),V=(0,a.computed)((()=>[{title:t("wdr.index.5mpm1cuar500"),dataIndex:"scope"},{title:t("wdr.index.5mpm1cuasys0"),dataIndex:"reportAt"},{title:t("wdr.index.5mpm1cuardo0"),dataIndex:"reportType"},{title:t("wdr.index.5mpm1cuat200"),dataIndex:"reportName"},{title:t("wdr.index.5mpm1cuat4o0"),slotName:"operation"}])),I=(0,a.reactive)({data:[],page:{page:1,pageSize:20},loading:!1});(0,a.onMounted)((async()=>{N(),await E(),_()}));const N=()=>{l.wdrScopeList=[{label:t("wdr.index.5mpm1cuasgo0"),value:"CLUSTER"},{label:t("wdr.index.5mpm1cuask80"),value:"NODE"}],l.wdrTypeList=[{label:t("wdr.index.5mpm1cuasng0"),value:"DETAIL"},{label:t("wdr.index.5mpm1cuasr40"),value:"SUMMARY"},{label:t("wdr.index.5mpm1cuasvs0"),value:"ALL"}]},D=(0,a.computed)((()=>{const e=new Date,t=e.getFullYear(),l=e.getMonth(),a=e.getDate();return[new Date(t,l,a,0,0,0),new Date(t,l,a,23,59,59)]})),E=()=>new Promise((e=>{l.clusterListLoading=!0,(0,o._V)().then((t=>{200===Number(t.code)?(e(!0),t.data.forEach((e=>{l.clusterList.push({label:e.clusterId,value:e.clusterId})})),l.clusterId=l.clusterList[0].value):e(!1)})).finally((()=>{l.clusterListLoading=!1}))})),B=e=>{l.start=e[0],l.end=e[1]},_=()=>{I.loading=!0;const e={clusterId:l.clusterId,wdrScope:l.wdrScope,wdrType:l.wdrType,start:l.start,end:l.end};(0,o.y6)(e).then((e=>{200===Number(e.code)?I.data=e.data:r.Z.error("Failed to obtain the WDR report query list")})).catch((()=>{r.Z.error("Failed to obtain the WDR report query list")})).finally((()=>{I.loading=!1}))},S=()=>{Object.assign(l,{clusterId:l.clusterList[0].value,wdrScope:"CLUSTER",wdrType:"DETAIL",start:"",end:""})},T=e=>{I.loading=!0;const t={wdrId:e.wdrId};(0,o.K4)(t).then((t=>{const l=window.open(e.reportName,"_blank");l?.document.write(t)})).finally((()=>{I.loading=!1}))},$=e=>{I.loading=!0;const t={wdrId:e.wdrId};(0,o.K4)(t).then((t=>{if(t){const l=new Blob([t],{type:"text/plain"}),a=document.createElement("a"),r=window.URL||window.webkitURL,o=r.createObjectURL(l);a.href=o,a.download=e.reportName,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(o)}})).finally((()=>{I.loading=!1}))},W=e=>{I.loading=!0,(0,o.zs)(e.wdrId).then((()=>{_()})).finally((()=>{I.loading=!1}))},G=(0,a.ref)(null),F=()=>{G.value?.open()},U=(0,a.ref)(null),R=()=>{U.value?.open()};return(e,t)=>{const r=(0,a.resolveComponent)("a-option"),o=(0,a.resolveComponent)("a-select"),s=(0,a.resolveComponent)("a-range-picker"),N=(0,a.resolveComponent)("icon-search"),E=(0,a.resolveComponent)("a-button"),z=(0,a.resolveComponent)("icon-sync"),q=(0,a.resolveComponent)("icon-eye"),A=(0,a.resolveComponent)("icon-download"),M=(0,a.resolveComponent)("icon-delete"),Z=(0,a.resolveComponent)("a-popconfirm"),O=(0,a.resolveComponent)("a-table");return(0,a.openBlock)(),(0,a.createElementBlock)("div",u,[(0,a.createElementVNode)("div",i,[(0,a.createElementVNode)("div",c,[(0,a.createElementVNode)("div",p,[(0,a.createElementVNode)("div",m,[(0,a.createElementVNode)("div",f,(0,a.toDisplayString)(e.$t("wdr.index.5mpm1cuaq540")),1),(0,a.createVNode)(o,{style:{width:"300px"},loading:(0,a.unref)(l).clusterListLoading,modelValue:(0,a.unref)(l).clusterId,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,a.unref)(l).clusterId=e),placeholder:e.$t("wdr.index.5mpm1cuaqvk0")},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(l).clusterList,((e,t)=>((0,a.openBlock)(),(0,a.createBlock)(r,{key:t,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["loading","modelValue","placeholder"])]),(0,a.createElementVNode)("div",h,[(0,a.createElementVNode)("div",g,(0,a.toDisplayString)(e.$t("wdr.index.5mpm1cuar0w0")),1),(0,a.createVNode)(s,{style:{width:"300px"},"show-time":"","default-value":(0,a.unref)(D),"allow-clear":!1,"time-picker-props":{defaultValue:["00:00:00","23:59:59"]},format:"YYYY-MM-DD HH:mm:ss",onOk:B},null,8,["default-value"])])]),(0,a.createElementVNode)("div",w,[(0,a.createElementVNode)("div",v,[(0,a.createElementVNode)("div",x,(0,a.toDisplayString)(e.$t("wdr.index.5mpm1cuar500")),1),(0,a.createVNode)(o,{style:{width:"300px"},modelValue:(0,a.unref)(l).wdrScope,"onUpdate:modelValue":t[1]||(t[1]=e=>(0,a.unref)(l).wdrScope=e),placeholder:e.$t("wdr.index.5mpm1cuar9s0")},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(l).wdrScopeList,((e,t)=>((0,a.openBlock)(),(0,a.createBlock)(r,{key:t,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])])]),(0,a.createElementVNode)("div",L,[(0,a.createElementVNode)("div",b,[(0,a.createElementVNode)("div",y,(0,a.toDisplayString)(e.$t("wdr.index.5mpm1cuardo0")),1),(0,a.createVNode)(o,{style:{width:"300px"},modelValue:(0,a.unref)(l).wdrType,"onUpdate:modelValue":t[2]||(t[2]=e=>(0,a.unref)(l).wdrType=e),placeholder:e.$t("wdr.index.5mpm1cuarh00")},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(l).wdrTypeList,((e,t)=>((0,a.openBlock)(),(0,a.createBlock)(r,{key:t,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])]),(0,a.createElementVNode)("div",k,[(0,a.createVNode)(E,{class:"mr",onClick:_},{icon:(0,a.withCtx)((()=>[(0,a.createVNode)(N)])),default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$t("wdr.index.5mpm1cuarks0")),1)])),_:1}),(0,a.createVNode)(E,{class:"mr",onClick:S},{icon:(0,a.withCtx)((()=>[(0,a.createVNode)(z)])),default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$t("wdr.index.5mpm1cuaro40")),1)])),_:1}),(0,a.createVNode)(E,{class:"mr",type:"primary",onClick:R},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("wdr.index.snapshotManage")),1)])),_:1}),(0,a.createVNode)(E,{type:"primary",onClick:F},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("wdr.index.5mpm1cuarrk0")),1)])),_:1})])])])]),(0,a.createVNode)(O,{class:"d-a-table-row full-h",data:(0,a.unref)(I).data,columns:(0,a.unref)(V),pagination:(0,a.unref)(I).page,loading:(0,a.unref)(I).loading},{operation:(0,a.withCtx)((({record:t})=>[(0,a.createElementVNode)("div",C,[(0,a.createVNode)(E,{type:"text",onClick:e=>T(t)},{icon:(0,a.withCtx)((()=>[(0,a.createVNode)(q)])),default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$t("wdr.index.5mpm1cuarv40")),1)])),_:2},1032,["onClick"]),(0,a.createVNode)(E,{type:"text",onClick:e=>$(t)},{icon:(0,a.withCtx)((()=>[(0,a.createVNode)(A)])),default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$t("wdr.index.5mpm1cuaryo0")),1)])),_:2},1032,["onClick"]),(0,a.createVNode)(Z,{content:e.$t("wdr.index.5mpm1cuas2s0"),type:"warning","ok-text":e.$t("wdr.index.5mpm1cuas6c0"),"cancel-text":e.$t("wdr.index.5mpm1cuasa40"),onOk:e=>W(t)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(E,{type:"text"},{icon:(0,a.withCtx)((()=>[(0,a.createVNode)(M)])),default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$t("wdr.index.5mpm1cuasdc0")),1)])),_:1})])),_:2},1032,["content","ok-text","cancel-text","onOk"])])])),_:1},8,["data","columns","pagination","loading"]),(0,a.createVNode)(n["default"],{ref:(e,t)=>{t["generateWdrRef"]=e,G.value=e},onFinish:t[3]||(t[3]=e=>_())},null,512),(0,a.createVNode)(d["default"],{ref:(e,t)=>{t["snapshotManageRef"]=e,U.value=e},onFinish:t[4]||(t[4]=e=>_())},null,512)])}}}),I=l(83744);const N=(0,I.Z)(V,[["__scopeId","data-v-328240c3"]]);var D=N}}]);
//# sourceMappingURL=3561.b5dd8475.js.map